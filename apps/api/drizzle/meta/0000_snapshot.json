{
  "id": "c83a5023-56c5-4874-a325-a12a001f195d",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.enrollment_keys": {
      "name": "enrollment_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_usage": {
          "name": "max_usage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "enrollment_keys_org_id_organizations_id_fk": {
          "name": "enrollment_keys_org_id_organizations_id_fk",
          "tableFrom": "enrollment_keys",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enrollment_keys_site_id_sites_id_fk": {
          "name": "enrollment_keys_site_id_sites_id_fk",
          "tableFrom": "enrollment_keys",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "enrollment_keys_key_unique": {
          "name": "enrollment_keys_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "org_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "status": {
          "name": "status",
          "type": "org_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "max_devices": {
          "name": "max_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "sso_config": {
          "name": "sso_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "contract_start": {
          "name": "contract_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "contract_end": {
          "name": "contract_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_contact": {
          "name": "billing_contact",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organizations_partner_id_partners_id_fk": {
          "name": "organizations_partner_id_partners_id_fk",
          "tableFrom": "organizations",
          "tableTo": "partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.partners": {
      "name": "partners",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "partner_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'msp'"
        },
        "plan": {
          "name": "plan",
          "type": "plan_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "max_organizations": {
          "name": "max_organizations",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_devices": {
          "name": "max_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "sso_config": {
          "name": "sso_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "billing_email": {
          "name": "billing_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "partners_slug_unique": {
          "name": "partners_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "contact": {
          "name": "contact",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sites_org_id_organizations_id_fk": {
          "name": "sites_org_id_organizations_id_fk",
          "tableFrom": "sites",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organization_users": {
      "name": "organization_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_ids": {
          "name": "site_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "device_group_ids": {
          "name": "device_group_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "organization_users_org_id_organizations_id_fk": {
          "name": "organization_users_org_id_organizations_id_fk",
          "tableFrom": "organization_users",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_users_user_id_users_id_fk": {
          "name": "organization_users_user_id_users_id_fk",
          "tableFrom": "organization_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "organization_users_role_id_roles_id_fk": {
          "name": "organization_users_role_id_roles_id_fk",
          "tableFrom": "organization_users",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.partner_users": {
      "name": "partner_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_access": {
          "name": "org_access",
          "type": "org_access",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "org_ids": {
          "name": "org_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "partner_users_partner_id_partners_id_fk": {
          "name": "partner_users_partner_id_partners_id_fk",
          "tableFrom": "partner_users",
          "tableTo": "partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "partner_users_user_id_users_id_fk": {
          "name": "partner_users_user_id_users_id_fk",
          "tableFrom": "partner_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "partner_users_role_id_roles_id_fk": {
          "name": "partner_users_role_id_roles_id_fk",
          "tableFrom": "partner_users",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.permissions": {
      "name": "permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "resource": {
          "name": "resource",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.role_permissions": {
      "name": "role_permissions",
      "schema": "",
      "columns": {
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_id": {
          "name": "permission_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "constraints": {
          "name": "constraints",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "role_permissions_role_id_roles_id_fk": {
          "name": "role_permissions_role_id_roles_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "role_permissions_permission_id_permissions_id_fk": {
          "name": "role_permissions_permission_id_permissions_id_fk",
          "tableFrom": "role_permissions",
          "tableTo": "permissions",
          "columnsFrom": [
            "permission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "parent_role_id": {
          "name": "parent_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "role_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "roles_partner_id_partners_id_fk": {
          "name": "roles_partner_id_partners_id_fk",
          "tableFrom": "roles",
          "tableTo": "partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "roles_org_id_organizations_id_fk": {
          "name": "roles_org_id_organizations_id_fk",
          "tableFrom": "roles",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_secret": {
          "name": "mfa_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mfa_enabled": {
          "name": "mfa_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mfa_recovery_codes": {
          "name": "mfa_recovery_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone_verified": {
          "name": "phone_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "mfa_method": {
          "name": "mfa_method",
          "type": "mfa_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'invited'"
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "password_changed_at": {
          "name": "password_changed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_commands": {
      "name": "device_commands",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_commands_device_id_devices_id_fk": {
          "name": "device_commands_device_id_devices_id_fk",
          "tableFrom": "device_commands",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_commands_created_by_users_id_fk": {
          "name": "device_commands_created_by_users_id_fk",
          "tableFrom": "device_commands",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_config_state": {
      "name": "device_config_state",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config_key": {
          "name": "config_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config_value": {
          "name": "config_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "collected_at": {
          "name": "collected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_config_state_device_id_devices_id_fk": {
          "name": "device_config_state_device_id_devices_id_fk",
          "tableFrom": "device_config_state",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "device_config_state_device_id_file_path_config_key_pk": {
          "name": "device_config_state_device_id_file_path_config_key_pk",
          "columns": [
            "device_id",
            "file_path",
            "config_key"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_connections": {
      "name": "device_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "protocol": {
          "name": "protocol",
          "type": "connection_protocol",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "local_addr": {
          "name": "local_addr",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "local_port": {
          "name": "local_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "remote_addr": {
          "name": "remote_addr",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "remote_port": {
          "name": "remote_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "pid": {
          "name": "pid",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "process_name": {
          "name": "process_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_connections_device_id_devices_id_fk": {
          "name": "device_connections_device_id_devices_id_fk",
          "tableFrom": "device_connections",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_disks": {
      "name": "device_disks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mount_point": {
          "name": "mount_point",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "device": {
          "name": "device",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "fs_type": {
          "name": "fs_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "total_gb": {
          "name": "total_gb",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "used_gb": {
          "name": "used_gb",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "free_gb": {
          "name": "free_gb",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "used_percent": {
          "name": "used_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "health": {
          "name": "health",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'healthy'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_disks_device_id_devices_id_fk": {
          "name": "device_disks_device_id_devices_id_fk",
          "tableFrom": "device_disks",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_group_memberships": {
      "name": "device_group_memberships",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "added_by": {
          "name": "added_by",
          "type": "membership_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_group_memberships_device_id_devices_id_fk": {
          "name": "device_group_memberships_device_id_devices_id_fk",
          "tableFrom": "device_group_memberships",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_group_memberships_group_id_device_groups_id_fk": {
          "name": "device_group_memberships_group_id_device_groups_id_fk",
          "tableFrom": "device_group_memberships",
          "tableTo": "device_groups",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "device_group_memberships_device_id_group_id_pk": {
          "name": "device_group_memberships_device_id_group_id_pk",
          "columns": [
            "device_id",
            "group_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_groups": {
      "name": "device_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "device_group_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'static'"
        },
        "rules": {
          "name": "rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "filter_conditions": {
          "name": "filter_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "filter_fields_used": {
          "name": "filter_fields_used",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_groups_org_id_organizations_id_fk": {
          "name": "device_groups_org_id_organizations_id_fk",
          "tableFrom": "device_groups",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_groups_site_id_sites_id_fk": {
          "name": "device_groups_site_id_sites_id_fk",
          "tableFrom": "device_groups",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_hardware": {
      "name": "device_hardware",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "cpu_model": {
          "name": "cpu_model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "cpu_cores": {
          "name": "cpu_cores",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cpu_threads": {
          "name": "cpu_threads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "ram_total_mb": {
          "name": "ram_total_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "disk_total_gb": {
          "name": "disk_total_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "gpu_model": {
          "name": "gpu_model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "serial_number": {
          "name": "serial_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "manufacturer": {
          "name": "manufacturer",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "bios_version": {
          "name": "bios_version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_hardware_device_id_devices_id_fk": {
          "name": "device_hardware_device_id_devices_id_fk",
          "tableFrom": "device_hardware",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_metrics": {
      "name": "device_metrics",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "cpu_percent": {
          "name": "cpu_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "ram_percent": {
          "name": "ram_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "ram_used_mb": {
          "name": "ram_used_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "disk_percent": {
          "name": "disk_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "disk_used_gb": {
          "name": "disk_used_gb",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "network_in_bytes": {
          "name": "network_in_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "network_out_bytes": {
          "name": "network_out_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "bandwidth_in_bps": {
          "name": "bandwidth_in_bps",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "bandwidth_out_bps": {
          "name": "bandwidth_out_bps",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "interface_stats": {
          "name": "interface_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "process_count": {
          "name": "process_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "custom_metrics": {
          "name": "custom_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_metrics_device_id_devices_id_fk": {
          "name": "device_metrics_device_id_devices_id_fk",
          "tableFrom": "device_metrics",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "device_metrics_device_id_timestamp_pk": {
          "name": "device_metrics_device_id_timestamp_pk",
          "columns": [
            "device_id",
            "timestamp"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_network": {
      "name": "device_network",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "interface_name": {
          "name": "interface_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "mac_address": {
          "name": "mac_address",
          "type": "varchar(17)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_type": {
          "name": "ip_type",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": true,
          "default": "'ipv4'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "public_ip": {
          "name": "public_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_network_device_id_devices_id_fk": {
          "name": "device_network_device_id_devices_id_fk",
          "tableFrom": "device_network",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_registry_state": {
      "name": "device_registry_state",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "registry_path": {
          "name": "registry_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value_name": {
          "name": "value_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value_data": {
          "name": "value_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_type": {
          "name": "value_type",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "collected_at": {
          "name": "collected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_registry_state_device_id_devices_id_fk": {
          "name": "device_registry_state_device_id_devices_id_fk",
          "tableFrom": "device_registry_state",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "device_registry_state_device_id_registry_path_value_name_pk": {
          "name": "device_registry_state_device_id_registry_path_value_name_pk",
          "columns": [
            "device_id",
            "registry_path",
            "value_name"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_software": {
      "name": "device_software",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "publisher": {
          "name": "publisher",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "install_date": {
          "name": "install_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "install_location": {
          "name": "install_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_software_device_id_devices_id_fk": {
          "name": "device_software_device_id_devices_id_fk",
          "tableFrom": "device_software",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.devices": {
      "name": "devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "agent_token_hash": {
          "name": "agent_token_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "mtls_cert_serial_number": {
          "name": "mtls_cert_serial_number",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "mtls_cert_expires_at": {
          "name": "mtls_cert_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mtls_cert_issued_at": {
          "name": "mtls_cert_issued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mtls_cert_cf_id": {
          "name": "mtls_cert_cf_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "quarantined_at": {
          "name": "quarantined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "quarantined_reason": {
          "name": "quarantined_reason",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "hostname": {
          "name": "hostname",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "os_type": {
          "name": "os_type",
          "type": "os_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "os_version": {
          "name": "os_version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "os_build": {
          "name": "os_build",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "architecture": {
          "name": "architecture",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "agent_version": {
          "name": "agent_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "device_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'offline'"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "enrolled_by": {
          "name": "enrolled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "devices_org_id_organizations_id_fk": {
          "name": "devices_org_id_organizations_id_fk",
          "tableFrom": "devices",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "devices_site_id_sites_id_fk": {
          "name": "devices_site_id_sites_id_fk",
          "tableFrom": "devices",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "devices_enrolled_by_users_id_fk": {
          "name": "devices_enrolled_by_users_id_fk",
          "tableFrom": "devices",
          "tableTo": "users",
          "columnsFrom": [
            "enrolled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "devices_agent_id_unique": {
          "name": "devices_agent_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "agent_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.group_membership_log": {
      "name": "group_membership_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "group_id": {
          "name": "group_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "group_membership_log_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "group_membership_log_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "group_membership_log_group_id_device_groups_id_fk": {
          "name": "group_membership_log_group_id_device_groups_id_fk",
          "tableFrom": "group_membership_log",
          "tableTo": "device_groups",
          "columnsFrom": [
            "group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_membership_log_device_id_devices_id_fk": {
          "name": "group_membership_log_device_id_devices_id_fk",
          "tableFrom": "group_membership_log",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_categories": {
      "name": "script_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "script_categories_org_id_idx": {
          "name": "script_categories_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_categories_parent_id_idx": {
          "name": "script_categories_parent_id_idx",
          "columns": [
            {
              "expression": "parent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_categories_org_name_idx": {
          "name": "script_categories_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "script_categories_org_id_organizations_id_fk": {
          "name": "script_categories_org_id_organizations_id_fk",
          "tableFrom": "script_categories",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_categories_parent_id_script_categories_id_fk": {
          "name": "script_categories_parent_id_script_categories_id_fk",
          "tableFrom": "script_categories",
          "tableTo": "script_categories",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_execution_batches": {
      "name": "script_execution_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "script_id": {
          "name": "script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "devices_targeted": {
          "name": "devices_targeted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "devices_completed": {
          "name": "devices_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_failed": {
          "name": "devices_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "script_execution_batches_script_id_scripts_id_fk": {
          "name": "script_execution_batches_script_id_scripts_id_fk",
          "tableFrom": "script_execution_batches",
          "tableTo": "scripts",
          "columnsFrom": [
            "script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_execution_batches_triggered_by_users_id_fk": {
          "name": "script_execution_batches_triggered_by_users_id_fk",
          "tableFrom": "script_execution_batches",
          "tableTo": "users",
          "columnsFrom": [
            "triggered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_executions": {
      "name": "script_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "script_id": {
          "name": "script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "trigger_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "exit_code": {
          "name": "exit_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stdout": {
          "name": "stdout",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stderr": {
          "name": "stderr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "script_executions_script_id_scripts_id_fk": {
          "name": "script_executions_script_id_scripts_id_fk",
          "tableFrom": "script_executions",
          "tableTo": "scripts",
          "columnsFrom": [
            "script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_executions_device_id_devices_id_fk": {
          "name": "script_executions_device_id_devices_id_fk",
          "tableFrom": "script_executions",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_executions_triggered_by_users_id_fk": {
          "name": "script_executions_triggered_by_users_id_fk",
          "tableFrom": "script_executions",
          "tableTo": "users",
          "columnsFrom": [
            "triggered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_tags": {
      "name": "script_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "script_tags_org_id_idx": {
          "name": "script_tags_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_tags_org_name_idx": {
          "name": "script_tags_org_name_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "script_tags_org_id_organizations_id_fk": {
          "name": "script_tags_org_id_organizations_id_fk",
          "tableFrom": "script_tags",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_templates": {
      "name": "script_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "script_language",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_built_in": {
          "name": "is_built_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "downloads": {
          "name": "downloads",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rating": {
          "name": "rating",
          "type": "numeric(2, 1)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "script_templates_category_idx": {
          "name": "script_templates_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_templates_language_idx": {
          "name": "script_templates_language_idx",
          "columns": [
            {
              "expression": "language",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_templates_name_idx": {
          "name": "script_templates_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_to_tags": {
      "name": "script_to_tags",
      "schema": "",
      "columns": {
        "script_id": {
          "name": "script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "script_to_tags_tag_id_idx": {
          "name": "script_to_tags_tag_id_idx",
          "columns": [
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "script_to_tags_script_id_scripts_id_fk": {
          "name": "script_to_tags_script_id_scripts_id_fk",
          "tableFrom": "script_to_tags",
          "tableTo": "scripts",
          "columnsFrom": [
            "script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_to_tags_tag_id_script_tags_id_fk": {
          "name": "script_to_tags_tag_id_script_tags_id_fk",
          "tableFrom": "script_to_tags",
          "tableTo": "script_tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "script_to_tags_script_id_tag_id_pk": {
          "name": "script_to_tags_script_id_tag_id_pk",
          "columns": [
            "script_id",
            "tag_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.script_versions": {
      "name": "script_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "script_id": {
          "name": "script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changelog": {
          "name": "changelog",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "script_versions_script_id_idx": {
          "name": "script_versions_script_id_idx",
          "columns": [
            {
              "expression": "script_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "script_versions_script_id_version_idx": {
          "name": "script_versions_script_id_version_idx",
          "columns": [
            {
              "expression": "script_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "script_versions_script_id_scripts_id_fk": {
          "name": "script_versions_script_id_scripts_id_fk",
          "tableFrom": "script_versions",
          "tableTo": "scripts",
          "columnsFrom": [
            "script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "script_versions_created_by_users_id_fk": {
          "name": "script_versions_created_by_users_id_fk",
          "tableFrom": "script_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scripts": {
      "name": "scripts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "os_types": {
          "name": "os_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "script_language",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parameters": {
          "name": "parameters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timeout_seconds": {
          "name": "timeout_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "run_as": {
          "name": "run_as",
          "type": "script_run_as",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "scripts_org_id_organizations_id_fk": {
          "name": "scripts_org_id_organizations_id_fk",
          "tableFrom": "scripts",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "scripts_created_by_users_id_fk": {
          "name": "scripts_created_by_users_id_fk",
          "tableFrom": "scripts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_correlations": {
      "name": "alert_correlations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "parent_alert_id": {
          "name": "parent_alert_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "child_alert_id": {
          "name": "child_alert_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "correlation_type": {
          "name": "correlation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alert_correlations_parent_alert_id_idx": {
          "name": "alert_correlations_parent_alert_id_idx",
          "columns": [
            {
              "expression": "parent_alert_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_correlations_child_alert_id_idx": {
          "name": "alert_correlations_child_alert_id_idx",
          "columns": [
            {
              "expression": "child_alert_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_correlations_parent_alert_id_alerts_id_fk": {
          "name": "alert_correlations_parent_alert_id_alerts_id_fk",
          "tableFrom": "alert_correlations",
          "tableTo": "alerts",
          "columnsFrom": [
            "parent_alert_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alert_correlations_child_alert_id_alerts_id_fk": {
          "name": "alert_correlations_child_alert_id_alerts_id_fk",
          "tableFrom": "alert_correlations",
          "tableTo": "alerts",
          "columnsFrom": [
            "child_alert_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_notifications": {
      "name": "alert_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "alert_id": {
          "name": "alert_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alert_notifications_alert_id_alerts_id_fk": {
          "name": "alert_notifications_alert_id_alerts_id_fk",
          "tableFrom": "alert_notifications",
          "tableTo": "alerts",
          "columnsFrom": [
            "alert_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alert_notifications_channel_id_notification_channels_id_fk": {
          "name": "alert_notifications_channel_id_notification_channels_id_fk",
          "tableFrom": "alert_notifications",
          "tableTo": "notification_channels",
          "columnsFrom": [
            "channel_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_rules": {
      "name": "alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "override_settings": {
          "name": "override_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "alert_rules_org_id_idx": {
          "name": "alert_rules_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "alert_rules_template_id_idx": {
          "name": "alert_rules_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "alert_rules_org_id_organizations_id_fk": {
          "name": "alert_rules_org_id_organizations_id_fk",
          "tableFrom": "alert_rules",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alert_rules_template_id_alert_templates_id_fk": {
          "name": "alert_rules_template_id_alert_templates_id_fk",
          "tableFrom": "alert_rules",
          "tableTo": "alert_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alert_templates": {
      "name": "alert_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title_template": {
          "name": "title_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_template": {
          "name": "message_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auto_resolve": {
          "name": "auto_resolve",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "auto_resolve_conditions": {
          "name": "auto_resolve_conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cooldown_minutes": {
          "name": "cooldown_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "is_built_in": {
          "name": "is_built_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alert_templates_org_id_organizations_id_fk": {
          "name": "alert_templates_org_id_organizations_id_fk",
          "tableFrom": "alert_templates",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.alerts": {
      "name": "alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rule_id": {
          "name": "rule_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "alert_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "acknowledged_by": {
          "name": "acknowledged_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_note": {
          "name": "resolution_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suppressed_until": {
          "name": "suppressed_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "alerts_rule_id_alert_rules_id_fk": {
          "name": "alerts_rule_id_alert_rules_id_fk",
          "tableFrom": "alerts",
          "tableTo": "alert_rules",
          "columnsFrom": [
            "rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_device_id_devices_id_fk": {
          "name": "alerts_device_id_devices_id_fk",
          "tableFrom": "alerts",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_org_id_organizations_id_fk": {
          "name": "alerts_org_id_organizations_id_fk",
          "tableFrom": "alerts",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_acknowledged_by_users_id_fk": {
          "name": "alerts_acknowledged_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "acknowledged_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "alerts_resolved_by_users_id_fk": {
          "name": "alerts_resolved_by_users_id_fk",
          "tableFrom": "alerts",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.escalation_policies": {
      "name": "escalation_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "steps": {
          "name": "steps",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "escalation_policies_org_id_organizations_id_fk": {
          "name": "escalation_policies_org_id_organizations_id_fk",
          "tableFrom": "escalation_policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_channels": {
      "name": "notification_channels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "notification_channel_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_channels_org_id_organizations_id_fk": {
          "name": "notification_channels_org_id_organizations_id_fk",
          "tableFrom": "notification_channels",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.file_transfers": {
      "name": "file_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "file_transfer_direction",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "remote_path": {
          "name": "remote_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "local_filename": {
          "name": "local_filename",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "file_transfer_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "progress_percent": {
          "name": "progress_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "file_transfers_session_id_remote_sessions_id_fk": {
          "name": "file_transfers_session_id_remote_sessions_id_fk",
          "tableFrom": "file_transfers",
          "tableTo": "remote_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "file_transfers_device_id_devices_id_fk": {
          "name": "file_transfers_device_id_devices_id_fk",
          "tableFrom": "file_transfers",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "file_transfers_user_id_users_id_fk": {
          "name": "file_transfers_user_id_users_id_fk",
          "tableFrom": "file_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.remote_sessions": {
      "name": "remote_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "remote_session_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "remote_session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "webrtc_offer": {
          "name": "webrtc_offer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webrtc_answer": {
          "name": "webrtc_answer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ice_candidates": {
          "name": "ice_candidates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bytes_transferred": {
          "name": "bytes_transferred",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "recording_url": {
          "name": "recording_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "remote_sessions_device_id_devices_id_fk": {
          "name": "remote_sessions_device_id_devices_id_fk",
          "tableFrom": "remote_sessions",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "remote_sessions_user_id_users_id_fk": {
          "name": "remote_sessions_user_id_users_id_fk",
          "tableFrom": "remote_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_type": {
          "name": "actor_type",
          "type": "actor_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "actor_email": {
          "name": "actor_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "resource_name": {
          "name": "resource_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "audit_result",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_org_id_organizations_id_fk": {
          "name": "audit_logs_org_id_organizations_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_retention_policies": {
      "name": "audit_retention_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "retention_days": {
          "name": "retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 365
        },
        "archive_to_s3": {
          "name": "archive_to_s3",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_cleanup_at": {
          "name": "last_cleanup_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_retention_policies_org_id_organizations_id_fk": {
          "name": "audit_retention_policies_org_id_organizations_id_fk",
          "tableFrom": "audit_retention_policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.report_runs": {
      "name": "report_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "report_id": {
          "name": "report_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "report_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "output_url": {
          "name": "output_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "row_count": {
          "name": "row_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "report_runs_report_id_reports_id_fk": {
          "name": "report_runs_report_id_reports_id_fk",
          "tableFrom": "report_runs",
          "tableTo": "reports",
          "columnsFrom": [
            "report_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reports": {
      "name": "reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "report_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "schedule": {
          "name": "schedule",
          "type": "report_schedule",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'one_time'"
        },
        "format": {
          "name": "format",
          "type": "report_format",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'csv'"
        },
        "last_generated_at": {
          "name": "last_generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reports_org_id_organizations_id_fk": {
          "name": "reports_org_id_organizations_id_fk",
          "tableFrom": "reports",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reports_created_by_users_id_fk": {
          "name": "reports_created_by_users_id_fk",
          "tableFrom": "reports",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "key_hash": {
          "name": "key_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "varchar(12)",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rate_limit": {
          "name": "rate_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1000
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "api_key_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_keys_org_id_organizations_id_fk": {
          "name": "api_keys_org_id_organizations_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "api_keys_created_by_users_id_fk": {
          "name": "api_keys_created_by_users_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sso_providers": {
      "name": "sso_providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "sso_provider_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sso_provider_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'inactive'"
        },
        "issuer": {
          "name": "issuer",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "client_secret": {
          "name": "client_secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorization_url": {
          "name": "authorization_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "token_url": {
          "name": "token_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "userinfo_url": {
          "name": "userinfo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "jwks_url": {
          "name": "jwks_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "default": "'openid profile email'"
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "sso_url": {
          "name": "sso_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "certificate": {
          "name": "certificate",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attribute_mapping": {
          "name": "attribute_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"email\":\"email\",\"name\":\"name\"}'::jsonb"
        },
        "auto_provision": {
          "name": "auto_provision",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_role_id": {
          "name": "default_role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_domains": {
          "name": "allowed_domains",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "enforce_sso": {
          "name": "enforce_sso",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sso_providers_org_id_organizations_id_fk": {
          "name": "sso_providers_org_id_organizations_id_fk",
          "tableFrom": "sso_providers",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sso_providers_created_by_users_id_fk": {
          "name": "sso_providers_created_by_users_id_fk",
          "tableFrom": "sso_providers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sso_sessions": {
      "name": "sso_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "nonce": {
          "name": "nonce",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "code_verifier": {
          "name": "code_verifier",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "redirect_url": {
          "name": "redirect_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sso_sessions_provider_id_sso_providers_id_fk": {
          "name": "sso_sessions_provider_id_sso_providers_id_fk",
          "tableFrom": "sso_sessions",
          "tableTo": "sso_providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sso_sessions_state_unique": {
          "name": "sso_sessions_state_unique",
          "nullsNotDistinct": false,
          "columns": [
            "state"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sso_identities": {
      "name": "user_sso_identities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "profile": {
          "name": "profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_sso_identities_user_id_users_id_fk": {
          "name": "user_sso_identities_user_id_users_id_fk",
          "tableFrom": "user_sso_identities",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_sso_identities_provider_id_sso_providers_id_fk": {
          "name": "user_sso_identities_provider_id_sso_providers_id_fk",
          "tableFrom": "user_sso_identities",
          "tableTo": "sso_providers",
          "columnsFrom": [
            "provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.access_review_items": {
      "name": "access_review_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "review_id": {
          "name": "review_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "access_review_decision",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "access_review_items_review_id_access_reviews_id_fk": {
          "name": "access_review_items_review_id_access_reviews_id_fk",
          "tableFrom": "access_review_items",
          "tableTo": "access_reviews",
          "columnsFrom": [
            "review_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "access_review_items_user_id_users_id_fk": {
          "name": "access_review_items_user_id_users_id_fk",
          "tableFrom": "access_review_items",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_review_items_role_id_roles_id_fk": {
          "name": "access_review_items_role_id_roles_id_fk",
          "tableFrom": "access_review_items",
          "tableTo": "roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_review_items_reviewed_by_users_id_fk": {
          "name": "access_review_items_reviewed_by_users_id_fk",
          "tableFrom": "access_review_items",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.access_reviews": {
      "name": "access_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "access_review_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "access_reviews_partner_id_partners_id_fk": {
          "name": "access_reviews_partner_id_partners_id_fk",
          "tableFrom": "access_reviews",
          "tableTo": "partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_reviews_org_id_organizations_id_fk": {
          "name": "access_reviews_org_id_organizations_id_fk",
          "tableFrom": "access_reviews",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_reviews_reviewer_id_users_id_fk": {
          "name": "access_reviews_reviewer_id_users_id_fk",
          "tableFrom": "access_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "reviewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_patches": {
      "name": "device_patches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patch_id": {
          "name": "patch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "device_patch_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "installed_version": {
          "name": "installed_version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rollback_available": {
          "name": "rollback_available",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "device_patches_device_patch_unique": {
          "name": "device_patches_device_patch_unique",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_patches_device_id_devices_id_fk": {
          "name": "device_patches_device_id_devices_id_fk",
          "tableFrom": "device_patches",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_patches_patch_id_patches_id_fk": {
          "name": "device_patches_patch_id_patches_id_fk",
          "tableFrom": "device_patches",
          "tableTo": "patches",
          "columnsFrom": [
            "patch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_approvals": {
      "name": "patch_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patch_id": {
          "name": "patch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "patch_approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "defer_until": {
          "name": "defer_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "patch_approvals_org_patch_unique": {
          "name": "patch_approvals_org_patch_unique",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "patch_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "patch_approvals_org_id_organizations_id_fk": {
          "name": "patch_approvals_org_id_organizations_id_fk",
          "tableFrom": "patch_approvals",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_approvals_patch_id_patches_id_fk": {
          "name": "patch_approvals_patch_id_patches_id_fk",
          "tableFrom": "patch_approvals",
          "tableTo": "patches",
          "columnsFrom": [
            "patch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_approvals_policy_id_patch_policies_id_fk": {
          "name": "patch_approvals_policy_id_patch_policies_id_fk",
          "tableFrom": "patch_approvals",
          "tableTo": "patch_policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_approvals_approved_by_users_id_fk": {
          "name": "patch_approvals_approved_by_users_id_fk",
          "tableFrom": "patch_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_compliance_reports": {
      "name": "patch_compliance_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "patch_compliance_report_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "format": {
          "name": "format",
          "type": "patch_compliance_report_format",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'csv'"
        },
        "source": {
          "name": "source",
          "type": "patch_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "patch_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "row_count": {
          "name": "row_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_path": {
          "name": "output_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_compliance_reports_org_id_organizations_id_fk": {
          "name": "patch_compliance_reports_org_id_organizations_id_fk",
          "tableFrom": "patch_compliance_reports",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_compliance_reports_requested_by_users_id_fk": {
          "name": "patch_compliance_reports_requested_by_users_id_fk",
          "tableFrom": "patch_compliance_reports",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_compliance_snapshots": {
      "name": "patch_compliance_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_date": {
          "name": "snapshot_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "total_devices": {
          "name": "total_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "compliant_devices": {
          "name": "compliant_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "non_compliant_devices": {
          "name": "non_compliant_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "critical_missing": {
          "name": "critical_missing",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "important_missing": {
          "name": "important_missing",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "patches_pending_approval": {
          "name": "patches_pending_approval",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "patches_installed_24h": {
          "name": "patches_installed_24h",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_installs_24h": {
          "name": "failed_installs_24h",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "details_by_category": {
          "name": "details_by_category",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_compliance_snapshots_org_id_organizations_id_fk": {
          "name": "patch_compliance_snapshots_org_id_organizations_id_fk",
          "tableFrom": "patch_compliance_snapshots",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_job_results": {
      "name": "patch_job_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patch_id": {
          "name": "patch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "patch_job_result_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "exit_code": {
          "name": "exit_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reboot_required": {
          "name": "reboot_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rebooted_at": {
          "name": "rebooted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_job_results_job_id_patch_jobs_id_fk": {
          "name": "patch_job_results_job_id_patch_jobs_id_fk",
          "tableFrom": "patch_job_results",
          "tableTo": "patch_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_job_results_device_id_devices_id_fk": {
          "name": "patch_job_results_device_id_devices_id_fk",
          "tableFrom": "patch_job_results",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_job_results_patch_id_patches_id_fk": {
          "name": "patch_job_results_patch_id_patches_id_fk",
          "tableFrom": "patch_job_results",
          "tableTo": "patches",
          "columnsFrom": [
            "patch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_jobs": {
      "name": "patch_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "patches": {
          "name": "patches",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "targets": {
          "name": "targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "patch_job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "devices_total": {
          "name": "devices_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_completed": {
          "name": "devices_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_failed": {
          "name": "devices_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_pending": {
          "name": "devices_pending",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_jobs_org_id_organizations_id_fk": {
          "name": "patch_jobs_org_id_organizations_id_fk",
          "tableFrom": "patch_jobs",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_jobs_policy_id_patch_policies_id_fk": {
          "name": "patch_jobs_policy_id_patch_policies_id_fk",
          "tableFrom": "patch_jobs",
          "tableTo": "patch_policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_jobs_created_by_users_id_fk": {
          "name": "patch_jobs_created_by_users_id_fk",
          "tableFrom": "patch_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_policies": {
      "name": "patch_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "targets": {
          "name": "targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "sources": {
          "name": "sources",
          "type": "patch_source[]",
          "primaryKey": false,
          "notNull": false
        },
        "auto_approve": {
          "name": "auto_approve",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "schedule": {
          "name": "schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "reboot_policy": {
          "name": "reboot_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "rollback_on_failure": {
          "name": "rollback_on_failure",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "pre_install_script_id": {
          "name": "pre_install_script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "post_install_script_id": {
          "name": "post_install_script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "notify_on_complete": {
          "name": "notify_on_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_policies_org_id_organizations_id_fk": {
          "name": "patch_policies_org_id_organizations_id_fk",
          "tableFrom": "patch_policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_policies_pre_install_script_id_scripts_id_fk": {
          "name": "patch_policies_pre_install_script_id_scripts_id_fk",
          "tableFrom": "patch_policies",
          "tableTo": "scripts",
          "columnsFrom": [
            "pre_install_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_policies_post_install_script_id_scripts_id_fk": {
          "name": "patch_policies_post_install_script_id_scripts_id_fk",
          "tableFrom": "patch_policies",
          "tableTo": "scripts",
          "columnsFrom": [
            "post_install_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_policies_created_by_users_id_fk": {
          "name": "patch_policies_created_by_users_id_fk",
          "tableFrom": "patch_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patch_rollbacks": {
      "name": "patch_rollbacks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "patch_id": {
          "name": "patch_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "original_job_id": {
          "name": "original_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "patch_rollback_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "patch_rollbacks_device_id_devices_id_fk": {
          "name": "patch_rollbacks_device_id_devices_id_fk",
          "tableFrom": "patch_rollbacks",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_rollbacks_patch_id_patches_id_fk": {
          "name": "patch_rollbacks_patch_id_patches_id_fk",
          "tableFrom": "patch_rollbacks",
          "tableTo": "patches",
          "columnsFrom": [
            "patch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_rollbacks_original_job_id_patch_jobs_id_fk": {
          "name": "patch_rollbacks_original_job_id_patch_jobs_id_fk",
          "tableFrom": "patch_rollbacks",
          "tableTo": "patch_jobs",
          "columnsFrom": [
            "original_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "patch_rollbacks_initiated_by_users_id_fk": {
          "name": "patch_rollbacks_initiated_by_users_id_fk",
          "tableFrom": "patch_rollbacks",
          "tableTo": "users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.patches": {
      "name": "patches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source": {
          "name": "source",
          "type": "patch_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "patch_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "os_types": {
          "name": "os_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "os_versions": {
          "name": "os_versions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "architecture": {
          "name": "architecture",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "release_date": {
          "name": "release_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "kb_article_url": {
          "name": "kb_article_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "supersedes": {
          "name": "supersedes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "superseded_by": {
          "name": "superseded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requires_reboot": {
          "name": "requires_reboot",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "download_url": {
          "name": "download_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "download_size_mb": {
          "name": "download_size_mb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "install_command": {
          "name": "install_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uninstall_command": {
          "name": "uninstall_command",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detect_script": {
          "name": "detect_script",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "patches_source_external_id_unique": {
          "name": "patches_source_external_id_unique",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "external_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_bus_events": {
      "name": "event_bus_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "event_bus_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "event_bus_events_org_id_organizations_id_fk": {
          "name": "event_bus_events_org_id_organizations_id_fk",
          "tableFrom": "event_bus_events",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_instances": {
      "name": "plugin_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "plugin_id": {
          "name": "plugin_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plugin_instances_plugin_id_plugins_id_fk": {
          "name": "plugin_instances_plugin_id_plugins_id_fk",
          "tableFrom": "plugin_instances",
          "tableTo": "plugins",
          "columnsFrom": [
            "plugin_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "plugin_instances_org_id_organizations_id_fk": {
          "name": "plugin_instances_org_id_organizations_id_fk",
          "tableFrom": "plugin_instances",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugins": {
      "name": "plugins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "author": {
          "name": "author",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "manifest_url": {
          "name": "manifest_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_point": {
          "name": "entry_point",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hooks": {
          "name": "hooks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "plugin_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plugins_org_id_organizations_id_fk": {
          "name": "plugins_org_id_organizations_id_fk",
          "tableFrom": "plugins",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psa_connections": {
      "name": "psa_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "psa_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "credentials": {
          "name": "credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "sync_settings": {
          "name": "sync_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_status": {
          "name": "last_sync_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error": {
          "name": "last_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "psa_connections_org_id_organizations_id_fk": {
          "name": "psa_connections_org_id_organizations_id_fk",
          "tableFrom": "psa_connections",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "psa_connections_created_by_users_id_fk": {
          "name": "psa_connections_created_by_users_id_fk",
          "tableFrom": "psa_connections",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.psa_ticket_mappings": {
      "name": "psa_ticket_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "connection_id": {
          "name": "connection_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "alert_id": {
          "name": "alert_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "external_ticket_id": {
          "name": "external_ticket_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "external_ticket_url": {
          "name": "external_ticket_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "psa_ticket_mappings_connection_id_psa_connections_id_fk": {
          "name": "psa_ticket_mappings_connection_id_psa_connections_id_fk",
          "tableFrom": "psa_ticket_mappings",
          "tableTo": "psa_connections",
          "columnsFrom": [
            "connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "psa_ticket_mappings_alert_id_alerts_id_fk": {
          "name": "psa_ticket_mappings_alert_id_alerts_id_fk",
          "tableFrom": "psa_ticket_mappings",
          "tableTo": "alerts",
          "columnsFrom": [
            "alert_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "psa_ticket_mappings_device_id_devices_id_fk": {
          "name": "psa_ticket_mappings_device_id_devices_id_fk",
          "tableFrom": "psa_ticket_mappings",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_delivery_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "response_status": {
          "name": "response_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhook_deliveries_webhook_id_webhooks_id_fk": {
          "name": "webhook_deliveries_webhook_id_webhooks_id_fk",
          "tableFrom": "webhook_deliveries",
          "tableTo": "webhooks",
          "columnsFrom": [
            "webhook_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "events": {
          "name": "events",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "headers": {
          "name": "headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "webhook_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "retry_policy": {
          "name": "retry_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_delivery_at": {
          "name": "last_delivery_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_success_at": {
          "name": "last_success_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "webhooks_org_id_organizations_id_fk": {
          "name": "webhooks_org_id_organizations_id_fk",
          "tableFrom": "webhooks",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "webhooks_created_by_users_id_fk": {
          "name": "webhooks_created_by_users_id_fk",
          "tableFrom": "webhooks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.asset_checkouts": {
      "name": "asset_checkouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "checked_out_to": {
          "name": "checked_out_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "checked_out_to_name": {
          "name": "checked_out_to_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "checked_out_at": {
          "name": "checked_out_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expected_return_at": {
          "name": "expected_return_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "checked_in_at": {
          "name": "checked_in_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "checked_in_by": {
          "name": "checked_in_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "checkout_notes": {
          "name": "checkout_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checkin_notes": {
          "name": "checkin_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "condition": {
          "name": "condition",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "asset_checkouts_org_id_organizations_id_fk": {
          "name": "asset_checkouts_org_id_organizations_id_fk",
          "tableFrom": "asset_checkouts",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "asset_checkouts_device_id_devices_id_fk": {
          "name": "asset_checkouts_device_id_devices_id_fk",
          "tableFrom": "asset_checkouts",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "asset_checkouts_checked_out_to_portal_users_id_fk": {
          "name": "asset_checkouts_checked_out_to_portal_users_id_fk",
          "tableFrom": "asset_checkouts",
          "tableTo": "portal_users",
          "columnsFrom": [
            "checked_out_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "asset_checkouts_checked_in_by_users_id_fk": {
          "name": "asset_checkouts_checked_in_by_users_id_fk",
          "tableFrom": "asset_checkouts",
          "tableTo": "users",
          "columnsFrom": [
            "checked_in_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portal_branding": {
      "name": "portal_branding",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favicon_url": {
          "name": "favicon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "secondary_color": {
          "name": "secondary_color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "accent_color": {
          "name": "accent_color",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_domain": {
          "name": "custom_domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "domain_verified": {
          "name": "domain_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "welcome_message": {
          "name": "welcome_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "support_email": {
          "name": "support_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "support_phone": {
          "name": "support_phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "footer_text": {
          "name": "footer_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_css": {
          "name": "custom_css",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enable_tickets": {
          "name": "enable_tickets",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enable_asset_checkout": {
          "name": "enable_asset_checkout",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enable_self_service": {
          "name": "enable_self_service",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enable_password_reset": {
          "name": "enable_password_reset",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "portal_branding_org_id_organizations_id_fk": {
          "name": "portal_branding_org_id_organizations_id_fk",
          "tableFrom": "portal_branding",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "portal_branding_org_id_unique": {
          "name": "portal_branding_org_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.portal_users": {
      "name": "portal_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linked_user_id": {
          "name": "linked_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "receive_notifications": {
          "name": "receive_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "portal_users_org_id_organizations_id_fk": {
          "name": "portal_users_org_id_organizations_id_fk",
          "tableFrom": "portal_users",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "portal_users_linked_user_id_users_id_fk": {
          "name": "portal_users_linked_user_id_users_id_fk",
          "tableFrom": "portal_users",
          "tableTo": "users",
          "columnsFrom": [
            "linked_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ticket_comments": {
      "name": "ticket_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "portal_user_id": {
          "name": "portal_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "author_name": {
          "name": "author_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "author_type": {
          "name": "author_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ticket_comments_ticket_id_tickets_id_fk": {
          "name": "ticket_comments_ticket_id_tickets_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ticket_comments_portal_user_id_portal_users_id_fk": {
          "name": "ticket_comments_portal_user_id_portal_users_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "portal_users",
          "columnsFrom": [
            "portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ticket_comments_user_id_users_id_fk": {
          "name": "ticket_comments_user_id_users_id_fk",
          "tableFrom": "ticket_comments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tickets": {
      "name": "tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "submitter_email": {
          "name": "submitter_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "submitter_name": {
          "name": "submitter_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "ticket_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "priority": {
          "name": "priority",
          "type": "ticket_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_team": {
          "name": "assigned_team",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "custom_fields": {
          "name": "custom_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "external_ticket_id": {
          "name": "external_ticket_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "external_ticket_url": {
          "name": "external_ticket_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_response_at": {
          "name": "first_response_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tickets_org_id_organizations_id_fk": {
          "name": "tickets_org_id_organizations_id_fk",
          "tableFrom": "tickets",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_submitted_by_portal_users_id_fk": {
          "name": "tickets_submitted_by_portal_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "portal_users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_assigned_to_users_id_fk": {
          "name": "tickets_assigned_to_users_id_fk",
          "tableFrom": "tickets",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_device_id_devices_id_fk": {
          "name": "tickets_device_id_devices_id_fk",
          "tableFrom": "tickets",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tickets_ticket_number_unique": {
          "name": "tickets_ticket_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics_dashboards": {
      "name": "analytics_dashboards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "layout": {
          "name": "layout",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "analytics_dashboards_org_id_organizations_id_fk": {
          "name": "analytics_dashboards_org_id_organizations_id_fk",
          "tableFrom": "analytics_dashboards",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "analytics_dashboards_created_by_users_id_fk": {
          "name": "analytics_dashboards_created_by_users_id_fk",
          "tableFrom": "analytics_dashboards",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.capacity_predictions": {
      "name": "capacity_predictions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "current_value": {
          "name": "current_value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "predicted_value": {
          "name": "predicted_value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "prediction_date": {
          "name": "prediction_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "growth_rate": {
          "name": "growth_rate",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "days_to_threshold": {
          "name": "days_to_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "threshold_type": {
          "name": "threshold_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "model_type": {
          "name": "model_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "training_data_days": {
          "name": "training_data_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "capacity_predictions_org_id_organizations_id_fk": {
          "name": "capacity_predictions_org_id_organizations_id_fk",
          "tableFrom": "capacity_predictions",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_predictions_device_id_devices_id_fk": {
          "name": "capacity_predictions_device_id_devices_id_fk",
          "tableFrom": "capacity_predictions",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.capacity_thresholds": {
      "name": "capacity_thresholds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "warning_threshold": {
          "name": "warning_threshold",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "critical_threshold": {
          "name": "critical_threshold",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "prediction_window": {
          "name": "prediction_window",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "growth_rate_threshold": {
          "name": "growth_rate_threshold",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ids": {
          "name": "target_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "capacity_thresholds_org_id_organizations_id_fk": {
          "name": "capacity_thresholds_org_id_organizations_id_fk",
          "tableFrom": "capacity_thresholds",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dashboard_widgets": {
      "name": "dashboard_widgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "dashboard_id": {
          "name": "dashboard_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "widget_type": {
          "name": "widget_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "data_source": {
          "name": "data_source",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "chart_type": {
          "name": "chart_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "visualization": {
          "name": "visualization",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "position": {
          "name": "position",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "refresh_interval": {
          "name": "refresh_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dashboard_widgets_dashboard_id_analytics_dashboards_id_fk": {
          "name": "dashboard_widgets_dashboard_id_analytics_dashboards_id_fk",
          "tableFrom": "dashboard_widgets",
          "tableTo": "analytics_dashboards",
          "columnsFrom": [
            "dashboard_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.executive_summaries": {
      "name": "executive_summaries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_type": {
          "name": "period_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "device_stats": {
          "name": "device_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "alert_stats": {
          "name": "alert_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "patch_stats": {
          "name": "patch_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "sla_stats": {
          "name": "sla_stats",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "trends": {
          "name": "trends",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "highlights": {
          "name": "highlights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "executive_summaries_org_id_organizations_id_fk": {
          "name": "executive_summaries_org_id_organizations_id_fk",
          "tableFrom": "executive_summaries",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.saved_queries": {
      "name": "saved_queries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metric_types": {
          "name": "metric_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "metric_names": {
          "name": "metric_names",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "aggregation": {
          "name": "aggregation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "group_by": {
          "name": "group_by",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "filters": {
          "name": "filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "time_range": {
          "name": "time_range",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_shared": {
          "name": "is_shared",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "saved_queries_org_id_organizations_id_fk": {
          "name": "saved_queries_org_id_organizations_id_fk",
          "tableFrom": "saved_queries",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "saved_queries_created_by_users_id_fk": {
          "name": "saved_queries_created_by_users_id_fk",
          "tableFrom": "saved_queries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sla_compliance": {
      "name": "sla_compliance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sla_id": {
          "name": "sla_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "uptime_actual": {
          "name": "uptime_actual",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_actual": {
          "name": "response_time_actual",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_time_actual": {
          "name": "resolution_time_actual",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_compliant": {
          "name": "uptime_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_compliant": {
          "name": "response_time_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_time_compliant": {
          "name": "resolution_time_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "overall_compliant": {
          "name": "overall_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "total_downtime_minutes": {
          "name": "total_downtime_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "incident_count": {
          "name": "incident_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "excluded_minutes": {
          "name": "excluded_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sla_compliance_sla_id_sla_definitions_id_fk": {
          "name": "sla_compliance_sla_id_sla_definitions_id_fk",
          "tableFrom": "sla_compliance",
          "tableTo": "sla_definitions",
          "columnsFrom": [
            "sla_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compliance_org_id_organizations_id_fk": {
          "name": "sla_compliance_org_id_organizations_id_fk",
          "tableFrom": "sla_compliance",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sla_definitions": {
      "name": "sla_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_target": {
          "name": "uptime_target",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_target": {
          "name": "response_time_target",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_time_target": {
          "name": "resolution_time_target",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "measurement_window": {
          "name": "measurement_window",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_maintenance_windows": {
          "name": "exclude_maintenance_windows",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "exclude_weekends": {
          "name": "exclude_weekends",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ids": {
          "name": "target_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sla_definitions_org_id_organizations_id_fk": {
          "name": "sla_definitions_org_id_organizations_id_fk",
          "tableFrom": "sla_definitions",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.time_series_metrics": {
      "name": "time_series_metrics",
      "schema": "",
      "columns": {
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric_type": {
          "name": "metric_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "metric_name": {
          "name": "metric_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "double precision",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "time_series_metrics_device_timestamp_idx": {
          "name": "time_series_metrics_device_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "time_series_metrics_org_timestamp_idx": {
          "name": "time_series_metrics_org_timestamp_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "time_series_metrics_org_id_organizations_id_fk": {
          "name": "time_series_metrics_org_id_organizations_id_fk",
          "tableFrom": "time_series_metrics",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "time_series_metrics_device_id_devices_id_fk": {
          "name": "time_series_metrics_device_id_devices_id_fk",
          "tableFrom": "time_series_metrics",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_catalog": {
      "name": "plugin_catalog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "plugin_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "author": {
          "name": "author",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "author_url": {
          "name": "author_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "repository": {
          "name": "repository",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "license": {
          "name": "license",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "manifest_url": {
          "name": "manifest_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "download_url": {
          "name": "download_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "min_agent_version": {
          "name": "min_agent_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "min_api_version": {
          "name": "min_api_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "dependencies": {
          "name": "dependencies",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "hooks": {
          "name": "hooks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "screenshot_urls": {
          "name": "screenshot_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "install_count": {
          "name": "install_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rating": {
          "name": "rating",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_deprecated": {
          "name": "is_deprecated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plugin_catalog_slug_unique": {
          "name": "plugin_catalog_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_installations": {
      "name": "plugin_installations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "catalog_id": {
          "name": "catalog_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "plugin_install_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'installed'"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "sandbox_enabled": {
          "name": "sandbox_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "resource_limits": {
          "name": "resource_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "installed_by": {
          "name": "installed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "plugin_installations_org_catalog_unique": {
          "name": "plugin_installations_org_catalog_unique",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "catalog_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "plugin_installations_org_id_organizations_id_fk": {
          "name": "plugin_installations_org_id_organizations_id_fk",
          "tableFrom": "plugin_installations",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "plugin_installations_catalog_id_plugin_catalog_id_fk": {
          "name": "plugin_installations_catalog_id_plugin_catalog_id_fk",
          "tableFrom": "plugin_installations",
          "tableTo": "plugin_catalog",
          "columnsFrom": [
            "catalog_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "plugin_installations_installed_by_users_id_fk": {
          "name": "plugin_installations_installed_by_users_id_fk",
          "tableFrom": "plugin_installations",
          "tableTo": "users",
          "columnsFrom": [
            "installed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plugin_logs": {
      "name": "plugin_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "installation_id": {
          "name": "installation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "plugin_logs_installation_id_plugin_installations_id_fk": {
          "name": "plugin_logs_installation_id_plugin_installations_id_fk",
          "tableFrom": "plugin_logs",
          "tableTo": "plugin_installations",
          "columnsFrom": [
            "installation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discovered_assets": {
      "name": "discovered_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": true
        },
        "mac_address": {
          "name": "mac_address",
          "type": "varchar(17)",
          "primaryKey": false,
          "notNull": false
        },
        "hostname": {
          "name": "hostname",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "netbios_name": {
          "name": "netbios_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_type": {
          "name": "asset_type",
          "type": "discovered_asset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "status": {
          "name": "status",
          "type": "discovered_asset_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "manufacturer": {
          "name": "manufacturer",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "open_ports": {
          "name": "open_ports",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "os_fingerprint": {
          "name": "os_fingerprint",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "snmp_data": {
          "name": "snmp_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_time_ms": {
          "name": "response_time_ms",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "linked_device_id": {
          "name": "linked_device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen_at": {
          "name": "first_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_job_id": {
          "name": "last_job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "discovery_methods": {
          "name": "discovery_methods",
          "type": "discovery_method[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "ignored_by": {
          "name": "ignored_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ignored_at": {
          "name": "ignored_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "discovered_assets_org_ip_unique": {
          "name": "discovered_assets_org_ip_unique",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "ip_address",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "discovered_assets_org_id_organizations_id_fk": {
          "name": "discovered_assets_org_id_organizations_id_fk",
          "tableFrom": "discovered_assets",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovered_assets_site_id_sites_id_fk": {
          "name": "discovered_assets_site_id_sites_id_fk",
          "tableFrom": "discovered_assets",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovered_assets_linked_device_id_devices_id_fk": {
          "name": "discovered_assets_linked_device_id_devices_id_fk",
          "tableFrom": "discovered_assets",
          "tableTo": "devices",
          "columnsFrom": [
            "linked_device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovered_assets_last_job_id_discovery_jobs_id_fk": {
          "name": "discovered_assets_last_job_id_discovery_jobs_id_fk",
          "tableFrom": "discovered_assets",
          "tableTo": "discovery_jobs",
          "columnsFrom": [
            "last_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovered_assets_ignored_by_users_id_fk": {
          "name": "discovered_assets_ignored_by_users_id_fk",
          "tableFrom": "discovered_assets",
          "tableTo": "users",
          "columnsFrom": [
            "ignored_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discovery_jobs": {
      "name": "discovery_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "profile_id": {
          "name": "profile_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "discovery_job_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "hosts_scanned": {
          "name": "hosts_scanned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hosts_discovered": {
          "name": "hosts_discovered",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "new_assets": {
          "name": "new_assets",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "errors": {
          "name": "errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discovery_jobs_profile_id_discovery_profiles_id_fk": {
          "name": "discovery_jobs_profile_id_discovery_profiles_id_fk",
          "tableFrom": "discovery_jobs",
          "tableTo": "discovery_profiles",
          "columnsFrom": [
            "profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovery_jobs_org_id_organizations_id_fk": {
          "name": "discovery_jobs_org_id_organizations_id_fk",
          "tableFrom": "discovery_jobs",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovery_jobs_site_id_sites_id_fk": {
          "name": "discovery_jobs_site_id_sites_id_fk",
          "tableFrom": "discovery_jobs",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.discovery_profiles": {
      "name": "discovery_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "subnets": {
          "name": "subnets",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "exclude_ips": {
          "name": "exclude_ips",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "methods": {
          "name": "methods",
          "type": "discovery_method[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "port_ranges": {
          "name": "port_ranges",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "snmp_communities": {
          "name": "snmp_communities",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "snmp_credentials": {
          "name": "snmp_credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "schedule": {
          "name": "schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "deep_scan": {
          "name": "deep_scan",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "identify_os": {
          "name": "identify_os",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "resolve_hostnames": {
          "name": "resolve_hostnames",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "timeout": {
          "name": "timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "concurrency": {
          "name": "concurrency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "discovery_profiles_org_id_organizations_id_fk": {
          "name": "discovery_profiles_org_id_organizations_id_fk",
          "tableFrom": "discovery_profiles",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovery_profiles_site_id_sites_id_fk": {
          "name": "discovery_profiles_site_id_sites_id_fk",
          "tableFrom": "discovery_profiles",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discovery_profiles_created_by_users_id_fk": {
          "name": "discovery_profiles_created_by_users_id_fk",
          "tableFrom": "discovery_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.network_topology": {
      "name": "network_topology",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "site_id": {
          "name": "site_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "connection_type": {
          "name": "connection_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "interface_name": {
          "name": "interface_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "vlan": {
          "name": "vlan",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bandwidth": {
          "name": "bandwidth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "latency": {
          "name": "latency",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "network_topology_org_id_organizations_id_fk": {
          "name": "network_topology_org_id_organizations_id_fk",
          "tableFrom": "network_topology",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "network_topology_site_id_sites_id_fk": {
          "name": "network_topology_site_id_sites_id_fk",
          "tableFrom": "network_topology",
          "tableTo": "sites",
          "columnsFrom": [
            "site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mobile_devices": {
      "name": "mobile_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "device_platform",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "os_version": {
          "name": "os_version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "app_version": {
          "name": "app_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "fcm_token": {
          "name": "fcm_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "apns_token": {
          "name": "apns_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notifications_enabled": {
          "name": "notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "alert_severities": {
          "name": "alert_severities",
          "type": "alert_severity[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "quiet_hours": {
          "name": "quiet_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "mobile_devices_user_id_users_id_fk": {
          "name": "mobile_devices_user_id_users_id_fk",
          "tableFrom": "mobile_devices",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mobile_devices_device_id_unique": {
          "name": "mobile_devices_device_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mobile_sessions": {
      "name": "mobile_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "mobile_device_id": {
          "name": "mobile_device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "mobile_sessions_user_id_users_id_fk": {
          "name": "mobile_sessions_user_id_users_id_fk",
          "tableFrom": "mobile_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "mobile_sessions_mobile_device_id_mobile_devices_id_fk": {
          "name": "mobile_sessions_mobile_device_id_mobile_devices_id_fk",
          "tableFrom": "mobile_sessions",
          "tableTo": "mobile_devices",
          "columnsFrom": [
            "mobile_device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.push_notifications": {
      "name": "push_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "mobile_device_id": {
          "name": "mobile_device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "platform": {
          "name": "platform",
          "type": "device_platform",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alert_id": {
          "name": "alert_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "push_notifications_mobile_device_id_mobile_devices_id_fk": {
          "name": "push_notifications_mobile_device_id_mobile_devices_id_fk",
          "tableFrom": "push_notifications",
          "tableTo": "mobile_devices",
          "columnsFrom": [
            "mobile_device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "push_notifications_user_id_users_id_fk": {
          "name": "push_notifications_user_id_users_id_fk",
          "tableFrom": "push_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maintenance_occurrences": {
      "name": "maintenance_occurrences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "window_id": {
          "name": "window_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "maintenance_window_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "overrides": {
          "name": "overrides",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start_time": {
          "name": "actual_start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end_time": {
          "name": "actual_end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "suppressed_alerts": {
          "name": "suppressed_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "suppressed_patches": {
          "name": "suppressed_patches",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "maintenance_occurrences_window_id_maintenance_windows_id_fk": {
          "name": "maintenance_occurrences_window_id_maintenance_windows_id_fk",
          "tableFrom": "maintenance_occurrences",
          "tableTo": "maintenance_windows",
          "columnsFrom": [
            "window_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.maintenance_windows": {
      "name": "maintenance_windows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "recurrence": {
          "name": "recurrence",
          "type": "maintenance_recurrence",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'once'"
        },
        "recurrence_rule": {
          "name": "recurrence_rule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "site_ids": {
          "name": "site_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "group_ids": {
          "name": "group_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "device_ids": {
          "name": "device_ids",
          "type": "uuid[]",
          "primaryKey": false,
          "notNull": false
        },
        "suppress_alerts": {
          "name": "suppress_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "suppress_patching": {
          "name": "suppress_patching",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "suppress_automations": {
          "name": "suppress_automations",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "suppress_scripts": {
          "name": "suppress_scripts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allowed_alert_severities": {
          "name": "allowed_alert_severities",
          "type": "alert_severity[]",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_actions": {
          "name": "allowed_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "maintenance_window_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "notify_before": {
          "name": "notify_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notify_on_start": {
          "name": "notify_on_start",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notify_on_end": {
          "name": "notify_on_end",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_channels": {
          "name": "notification_channels",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "maintenance_windows_org_id_organizations_id_fk": {
          "name": "maintenance_windows_org_id_organizations_id_fk",
          "tableFrom": "maintenance_windows",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "maintenance_windows_created_by_users_id_fk": {
          "name": "maintenance_windows_created_by_users_id_fk",
          "tableFrom": "maintenance_windows",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_policies": {
      "name": "security_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "security_policies_org_id_idx": {
          "name": "security_policies_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_policies_org_id_organizations_id_fk": {
          "name": "security_policies_org_id_organizations_id_fk",
          "tableFrom": "security_policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_posture_org_snapshots": {
      "name": "security_posture_org_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "devices_audited": {
          "name": "devices_audited",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "low_risk_devices": {
          "name": "low_risk_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "medium_risk_devices": {
          "name": "medium_risk_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "high_risk_devices": {
          "name": "high_risk_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "critical_risk_devices": {
          "name": "critical_risk_devices",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "patch_compliance_score": {
          "name": "patch_compliance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "encryption_score": {
          "name": "encryption_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "av_health_score": {
          "name": "av_health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "firewall_score": {
          "name": "firewall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "open_ports_score": {
          "name": "open_ports_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "password_policy_score": {
          "name": "password_policy_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "os_currency_score": {
          "name": "os_currency_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "admin_exposure_score": {
          "name": "admin_exposure_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "top_issues": {
          "name": "top_issues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "security_posture_org_snapshots_org_captured_idx": {
          "name": "security_posture_org_snapshots_org_captured_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "captured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_posture_org_snapshots_org_score_idx": {
          "name": "security_posture_org_snapshots_org_score_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "overall_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_posture_org_snapshots_org_id_organizations_id_fk": {
          "name": "security_posture_org_snapshots_org_id_organizations_id_fk",
          "tableFrom": "security_posture_org_snapshots",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_posture_snapshots": {
      "name": "security_posture_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "overall_score": {
          "name": "overall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "security_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "patch_compliance_score": {
          "name": "patch_compliance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "encryption_score": {
          "name": "encryption_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "av_health_score": {
          "name": "av_health_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "firewall_score": {
          "name": "firewall_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "open_ports_score": {
          "name": "open_ports_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "password_policy_score": {
          "name": "password_policy_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "os_currency_score": {
          "name": "os_currency_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "admin_exposure_score": {
          "name": "admin_exposure_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "factor_details": {
          "name": "factor_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        }
      },
      "indexes": {
        "security_posture_snapshots_org_captured_idx": {
          "name": "security_posture_snapshots_org_captured_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "captured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_posture_snapshots_device_captured_idx": {
          "name": "security_posture_snapshots_device_captured_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "captured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_posture_snapshots_org_score_idx": {
          "name": "security_posture_snapshots_org_score_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "overall_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_posture_snapshots_org_id_organizations_id_fk": {
          "name": "security_posture_snapshots_org_id_organizations_id_fk",
          "tableFrom": "security_posture_snapshots",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_posture_snapshots_device_id_devices_id_fk": {
          "name": "security_posture_snapshots_device_id_devices_id_fk",
          "tableFrom": "security_posture_snapshots",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_scans": {
      "name": "security_scans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scan_type": {
          "name": "scan_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "items_scanned": {
          "name": "items_scanned",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "threats_found": {
          "name": "threats_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "security_scans_device_started_idx": {
          "name": "security_scans_device_started_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_scans_status_idx": {
          "name": "security_scans_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_scans_device_id_devices_id_fk": {
          "name": "security_scans_device_id_devices_id_fk",
          "tableFrom": "security_scans",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_scans_initiated_by_users_id_fk": {
          "name": "security_scans_initiated_by_users_id_fk",
          "tableFrom": "security_scans",
          "tableTo": "users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_status": {
      "name": "security_status",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "security_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "provider_version": {
          "name": "provider_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "definitions_version": {
          "name": "definitions_version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "definitions_date": {
          "name": "definitions_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "real_time_protection": {
          "name": "real_time_protection",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "last_scan": {
          "name": "last_scan",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_scan_type": {
          "name": "last_scan_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "threat_count": {
          "name": "threat_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "firewall_enabled": {
          "name": "firewall_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_status": {
          "name": "encryption_status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_details": {
          "name": "encryption_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "local_admin_summary": {
          "name": "local_admin_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "password_policy_summary": {
          "name": "password_policy_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "gatekeeper_enabled": {
          "name": "gatekeeper_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "security_status_device_id_unique": {
          "name": "security_status_device_id_unique",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_status_provider_idx": {
          "name": "security_status_provider_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_status_device_id_devices_id_fk": {
          "name": "security_status_device_id_devices_id_fk",
          "tableFrom": "security_status",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.security_threats": {
      "name": "security_threats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "security_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "threat_name": {
          "name": "threat_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "threat_type": {
          "name": "threat_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "threat_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "threat_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "process_name": {
          "name": "process_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "security_threats_device_detected_idx": {
          "name": "security_threats_device_detected_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "detected_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "security_threats_status_idx": {
          "name": "security_threats_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "security_threats_device_id_devices_id_fk": {
          "name": "security_threats_device_id_devices_id_fk",
          "tableFrom": "security_threats",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deployment_results": {
      "name": "deployment_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deployment_id": {
          "name": "deployment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "deployment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "exit_code": {
          "name": "exit_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output": {
          "name": "output",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "deployment_results_deployment_id_idx": {
          "name": "deployment_results_deployment_id_idx",
          "columns": [
            {
              "expression": "deployment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deployment_results_device_id_idx": {
          "name": "deployment_results_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "deployment_results_status_idx": {
          "name": "deployment_results_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deployment_results_deployment_id_software_deployments_id_fk": {
          "name": "deployment_results_deployment_id_software_deployments_id_fk",
          "tableFrom": "deployment_results",
          "tableTo": "software_deployments",
          "columnsFrom": [
            "deployment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deployment_results_device_id_devices_id_fk": {
          "name": "deployment_results_device_id_devices_id_fk",
          "tableFrom": "deployment_results",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.software_catalog": {
      "name": "software_catalog",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "vendor": {
          "name": "vendor",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "icon_url": {
          "name": "icon_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website_url": {
          "name": "website_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_managed": {
          "name": "is_managed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "software_catalog_name_idx": {
          "name": "software_catalog_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_catalog_vendor_idx": {
          "name": "software_catalog_vendor_idx",
          "columns": [
            {
              "expression": "vendor",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_catalog_category_idx": {
          "name": "software_catalog_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.software_deployments": {
      "name": "software_deployments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "software_version_id": {
          "name": "software_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "deployment_type": {
          "name": "deployment_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_ids": {
          "name": "target_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_type": {
          "name": "schedule_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_window_id": {
          "name": "maintenance_window_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "software_deployments_org_id_idx": {
          "name": "software_deployments_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_deployments_version_id_idx": {
          "name": "software_deployments_version_id_idx",
          "columns": [
            {
              "expression": "software_version_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_deployments_schedule_idx": {
          "name": "software_deployments_schedule_idx",
          "columns": [
            {
              "expression": "schedule_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "software_deployments_org_id_organizations_id_fk": {
          "name": "software_deployments_org_id_organizations_id_fk",
          "tableFrom": "software_deployments",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "software_deployments_software_version_id_software_versions_id_fk": {
          "name": "software_deployments_software_version_id_software_versions_id_fk",
          "tableFrom": "software_deployments",
          "tableTo": "software_versions",
          "columnsFrom": [
            "software_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "software_deployments_maintenance_window_id_maintenance_windows_id_fk": {
          "name": "software_deployments_maintenance_window_id_maintenance_windows_id_fk",
          "tableFrom": "software_deployments",
          "tableTo": "maintenance_windows",
          "columnsFrom": [
            "maintenance_window_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "software_deployments_created_by_users_id_fk": {
          "name": "software_deployments_created_by_users_id_fk",
          "tableFrom": "software_deployments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.software_inventory": {
      "name": "software_inventory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "catalog_id": {
          "name": "catalog_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "vendor": {
          "name": "vendor",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "install_date": {
          "name": "install_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "install_location": {
          "name": "install_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uninstall_string": {
          "name": "uninstall_string",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_managed": {
          "name": "is_managed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_seen": {
          "name": "last_seen",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "software_inventory_device_id_idx": {
          "name": "software_inventory_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_inventory_catalog_id_idx": {
          "name": "software_inventory_catalog_id_idx",
          "columns": [
            {
              "expression": "catalog_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_inventory_name_idx": {
          "name": "software_inventory_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "software_inventory_device_id_devices_id_fk": {
          "name": "software_inventory_device_id_devices_id_fk",
          "tableFrom": "software_inventory",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "software_inventory_catalog_id_software_catalog_id_fk": {
          "name": "software_inventory_catalog_id_software_catalog_id_fk",
          "tableFrom": "software_inventory",
          "tableTo": "software_catalog",
          "columnsFrom": [
            "catalog_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.software_versions": {
      "name": "software_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "catalog_id": {
          "name": "catalog_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "release_notes": {
          "name": "release_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "download_url": {
          "name": "download_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "supported_os": {
          "name": "supported_os",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "architecture": {
          "name": "architecture",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "silent_install_args": {
          "name": "silent_install_args",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "silent_uninstall_args": {
          "name": "silent_uninstall_args",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pre_install_script": {
          "name": "pre_install_script",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "post_install_script": {
          "name": "post_install_script",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_latest": {
          "name": "is_latest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "software_versions_catalog_id_idx": {
          "name": "software_versions_catalog_id_idx",
          "columns": [
            {
              "expression": "catalog_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_versions_catalog_version_idx": {
          "name": "software_versions_catalog_version_idx",
          "columns": [
            {
              "expression": "catalog_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "software_versions_latest_idx": {
          "name": "software_versions_latest_idx",
          "columns": [
            {
              "expression": "catalog_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_latest",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "software_versions_catalog_id_software_catalog_id_fk": {
          "name": "software_versions_catalog_id_software_catalog_id_fk",
          "tableFrom": "software_versions",
          "tableTo": "software_catalog",
          "columnsFrom": [
            "catalog_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deployment_devices": {
      "name": "deployment_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "deployment_id": {
          "name": "deployment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "batch_number": {
          "name": "batch_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "deployment_device_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "deployment_devices_deployment_device_unique": {
          "name": "deployment_devices_deployment_device_unique",
          "columns": [
            {
              "expression": "deployment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "deployment_devices_deployment_id_deployments_id_fk": {
          "name": "deployment_devices_deployment_id_deployments_id_fk",
          "tableFrom": "deployment_devices",
          "tableTo": "deployments",
          "columnsFrom": [
            "deployment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deployment_devices_device_id_devices_id_fk": {
          "name": "deployment_devices_device_id_devices_id_fk",
          "tableFrom": "deployment_devices",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.deployments": {
      "name": "deployments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "target_config": {
          "name": "target_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "schedule": {
          "name": "schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "rollout_config": {
          "name": "rollout_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "deployment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "deployments_org_id_organizations_id_fk": {
          "name": "deployments_org_id_organizations_id_fk",
          "tableFrom": "deployments",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "deployments_created_by_users_id_fk": {
          "name": "deployments_created_by_users_id_fk",
          "tableFrom": "deployments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backup_configs": {
      "name": "backup_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "backup_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "backup_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "provider_config": {
          "name": "provider_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "schedule": {
          "name": "schedule",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "retention": {
          "name": "retention",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "compression": {
          "name": "compression",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "encryption": {
          "name": "encryption",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "encryption_key": {
          "name": "encryption_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "backup_configs_org_id_idx": {
          "name": "backup_configs_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_configs_type_idx": {
          "name": "backup_configs_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_configs_provider_idx": {
          "name": "backup_configs_provider_idx",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_configs_active_idx": {
          "name": "backup_configs_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backup_configs_org_id_organizations_id_fk": {
          "name": "backup_configs_org_id_organizations_id_fk",
          "tableFrom": "backup_configs",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backup_jobs": {
      "name": "backup_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "config_id": {
          "name": "config_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "backup_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "type": {
          "name": "type",
          "type": "backup_job_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_size": {
          "name": "total_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "transferred_size": {
          "name": "transferred_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_count": {
          "name": "file_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_log": {
          "name": "error_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "backup_jobs_config_id_idx": {
          "name": "backup_jobs_config_id_idx",
          "columns": [
            {
              "expression": "config_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_jobs_device_id_idx": {
          "name": "backup_jobs_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_jobs_status_idx": {
          "name": "backup_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_jobs_started_at_idx": {
          "name": "backup_jobs_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backup_jobs_config_id_backup_configs_id_fk": {
          "name": "backup_jobs_config_id_backup_configs_id_fk",
          "tableFrom": "backup_jobs",
          "tableTo": "backup_configs",
          "columnsFrom": [
            "config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "backup_jobs_device_id_devices_id_fk": {
          "name": "backup_jobs_device_id_devices_id_fk",
          "tableFrom": "backup_jobs",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backup_policies": {
      "name": "backup_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "config_id": {
          "name": "config_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "includes": {
          "name": "includes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "excludes": {
          "name": "excludes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        }
      },
      "indexes": {
        "backup_policies_config_id_idx": {
          "name": "backup_policies_config_id_idx",
          "columns": [
            {
              "expression": "config_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_policies_target_idx": {
          "name": "backup_policies_target_idx",
          "columns": [
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backup_policies_config_id_backup_configs_id_fk": {
          "name": "backup_policies_config_id_backup_configs_id_fk",
          "tableFrom": "backup_policies",
          "tableTo": "backup_configs",
          "columnsFrom": [
            "config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.backup_snapshots": {
      "name": "backup_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "size": {
          "name": "size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_count": {
          "name": "file_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_incremental": {
          "name": "is_incremental",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parent_snapshot_id": {
          "name": "parent_snapshot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "backup_snapshots_job_id_idx": {
          "name": "backup_snapshots_job_id_idx",
          "columns": [
            {
              "expression": "job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_snapshots_device_id_idx": {
          "name": "backup_snapshots_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_snapshots_snapshot_id_idx": {
          "name": "backup_snapshots_snapshot_id_idx",
          "columns": [
            {
              "expression": "snapshot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "backup_snapshots_parent_snapshot_id_idx": {
          "name": "backup_snapshots_parent_snapshot_id_idx",
          "columns": [
            {
              "expression": "parent_snapshot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "backup_snapshots_job_id_backup_jobs_id_fk": {
          "name": "backup_snapshots_job_id_backup_jobs_id_fk",
          "tableFrom": "backup_snapshots",
          "tableTo": "backup_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "backup_snapshots_device_id_devices_id_fk": {
          "name": "backup_snapshots_device_id_devices_id_fk",
          "tableFrom": "backup_snapshots",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "backup_snapshots_parent_snapshot_id_backup_snapshots_id_fk": {
          "name": "backup_snapshots_parent_snapshot_id_backup_snapshots_id_fk",
          "tableFrom": "backup_snapshots",
          "tableTo": "backup_snapshots",
          "columnsFrom": [
            "parent_snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.restore_jobs": {
      "name": "restore_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "snapshot_id": {
          "name": "snapshot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "restore_type": {
          "name": "restore_type",
          "type": "restore_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_path": {
          "name": "target_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selected_paths": {
          "name": "selected_paths",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "backup_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "restored_size": {
          "name": "restored_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "restored_files": {
          "name": "restored_files",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_by": {
          "name": "initiated_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "restore_jobs_snapshot_id_idx": {
          "name": "restore_jobs_snapshot_id_idx",
          "columns": [
            {
              "expression": "snapshot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "restore_jobs_device_id_idx": {
          "name": "restore_jobs_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "restore_jobs_status_idx": {
          "name": "restore_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "restore_jobs_snapshot_id_backup_snapshots_id_fk": {
          "name": "restore_jobs_snapshot_id_backup_snapshots_id_fk",
          "tableFrom": "restore_jobs",
          "tableTo": "backup_snapshots",
          "columnsFrom": [
            "snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "restore_jobs_device_id_devices_id_fk": {
          "name": "restore_jobs_device_id_devices_id_fk",
          "tableFrom": "restore_jobs",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "restore_jobs_initiated_by_users_id_fk": {
          "name": "restore_jobs_initiated_by_users_id_fk",
          "tableFrom": "restore_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "initiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.snmp_alert_thresholds": {
      "name": "snmp_alert_thresholds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "oid": {
          "name": "oid",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "operator": {
          "name": "operator",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "threshold": {
          "name": "threshold",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "snmp_alert_thresholds_device_id_snmp_devices_id_fk": {
          "name": "snmp_alert_thresholds_device_id_snmp_devices_id_fk",
          "tableFrom": "snmp_alert_thresholds",
          "tableTo": "snmp_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.snmp_devices": {
      "name": "snmp_devices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": true
        },
        "snmp_version": {
          "name": "snmp_version",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "port": {
          "name": "port",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 161
        },
        "community": {
          "name": "community",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "auth_protocol": {
          "name": "auth_protocol",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "auth_password": {
          "name": "auth_password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priv_protocol": {
          "name": "priv_protocol",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "priv_password": {
          "name": "priv_password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "polling_interval": {
          "name": "polling_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 300
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_polled": {
          "name": "last_polled",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_status": {
          "name": "last_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "snmp_devices_org_id_organizations_id_fk": {
          "name": "snmp_devices_org_id_organizations_id_fk",
          "tableFrom": "snmp_devices",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "snmp_devices_asset_id_discovered_assets_id_fk": {
          "name": "snmp_devices_asset_id_discovered_assets_id_fk",
          "tableFrom": "snmp_devices",
          "tableTo": "discovered_assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "snmp_devices_template_id_snmp_templates_id_fk": {
          "name": "snmp_devices_template_id_snmp_templates_id_fk",
          "tableFrom": "snmp_devices",
          "tableTo": "snmp_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.snmp_metrics": {
      "name": "snmp_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "oid": {
          "name": "oid",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_type": {
          "name": "value_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "snmp_metrics_device_id_idx": {
          "name": "snmp_metrics_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "snmp_metrics_oid_idx": {
          "name": "snmp_metrics_oid_idx",
          "columns": [
            {
              "expression": "oid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "snmp_metrics_timestamp_idx": {
          "name": "snmp_metrics_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "snmp_metrics_device_id_snmp_devices_id_fk": {
          "name": "snmp_metrics_device_id_snmp_devices_id_fk",
          "tableFrom": "snmp_metrics",
          "tableTo": "snmp_devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.snmp_templates": {
      "name": "snmp_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor": {
          "name": "vendor",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "device_type": {
          "name": "device_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "oids": {
          "name": "oids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_built_in": {
          "name": "is_built_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_notifications": {
      "name": "user_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "notification_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "link": {
          "name": "link",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "read": {
          "name": "read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_notifications_user_id_idx": {
          "name": "user_notifications_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_notifications_user_read_idx": {
          "name": "user_notifications_user_read_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_notifications_created_at_idx": {
          "name": "user_notifications_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_notifications_user_id_users_id_fk": {
          "name": "user_notifications_user_id_users_id_fk",
          "tableFrom": "user_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_notifications_org_id_organizations_id_fk": {
          "name": "user_notifications_org_id_organizations_id_fk",
          "tableFrom": "user_notifications",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.policies": {
      "name": "policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "policy_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "policy_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "parent_id": {
          "name": "parent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "policies_org_id_idx": {
          "name": "policies_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "policies_type_idx": {
          "name": "policies_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "policies_status_idx": {
          "name": "policies_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "policies_org_id_organizations_id_fk": {
          "name": "policies_org_id_organizations_id_fk",
          "tableFrom": "policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policies_parent_id_policies_id_fk": {
          "name": "policies_parent_id_policies_id_fk",
          "tableFrom": "policies",
          "tableTo": "policies",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policies_created_by_users_id_fk": {
          "name": "policies_created_by_users_id_fk",
          "tableFrom": "policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.policy_assignments": {
      "name": "policy_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "policy_assignments_policy_id_idx": {
          "name": "policy_assignments_policy_id_idx",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "policy_assignments_policy_id_policies_id_fk": {
          "name": "policy_assignments_policy_id_policies_id_fk",
          "tableFrom": "policy_assignments",
          "tableTo": "policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.policy_compliance": {
      "name": "policy_compliance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "last_checked": {
          "name": "last_checked",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "remediation_attempts": {
          "name": "remediation_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "policy_compliance_policy_id_idx": {
          "name": "policy_compliance_policy_id_idx",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "policy_compliance_device_id_idx": {
          "name": "policy_compliance_device_id_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "policy_compliance_policy_id_policies_id_fk": {
          "name": "policy_compliance_policy_id_policies_id_fk",
          "tableFrom": "policy_compliance",
          "tableTo": "policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_compliance_device_id_devices_id_fk": {
          "name": "policy_compliance_device_id_devices_id_fk",
          "tableFrom": "policy_compliance",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.policy_templates": {
      "name": "policy_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "policy_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_built_in": {
          "name": "is_built_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.policy_versions": {
      "name": "policy_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "changelog": {
          "name": "changelog",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "policy_versions_policy_id_idx": {
          "name": "policy_versions_policy_id_idx",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "policy_versions_policy_id_policies_id_fk": {
          "name": "policy_versions_policy_id_policies_id_fk",
          "tableFrom": "policy_versions",
          "tableTo": "policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_versions_created_by_users_id_fk": {
          "name": "policy_versions_created_by_users_id_fk",
          "tableFrom": "policy_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_policies": {
      "name": "automation_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "targets": {
          "name": "targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "rules": {
          "name": "rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "enforcement": {
          "name": "enforcement",
          "type": "policy_enforcement",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'monitor'"
        },
        "check_interval_minutes": {
          "name": "check_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "remediation_script_id": {
          "name": "remediation_script_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_evaluated_at": {
          "name": "last_evaluated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automation_policies_org_id_organizations_id_fk": {
          "name": "automation_policies_org_id_organizations_id_fk",
          "tableFrom": "automation_policies",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automation_policies_remediation_script_id_scripts_id_fk": {
          "name": "automation_policies_remediation_script_id_scripts_id_fk",
          "tableFrom": "automation_policies",
          "tableTo": "scripts",
          "columnsFrom": [
            "remediation_script_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automation_policies_created_by_users_id_fk": {
          "name": "automation_policies_created_by_users_id_fk",
          "tableFrom": "automation_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_policy_compliance": {
      "name": "automation_policy_compliance",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compliance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "remediation_attempts": {
          "name": "remediation_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automation_policy_compliance_policy_id_automation_policies_id_fk": {
          "name": "automation_policy_compliance_policy_id_automation_policies_id_fk",
          "tableFrom": "automation_policy_compliance",
          "tableTo": "automation_policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automation_policy_compliance_device_id_devices_id_fk": {
          "name": "automation_policy_compliance_device_id_devices_id_fk",
          "tableFrom": "automation_policy_compliance",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automation_runs": {
      "name": "automation_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "automation_id": {
          "name": "automation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "automation_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "devices_targeted": {
          "name": "devices_targeted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_succeeded": {
          "name": "devices_succeeded",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "devices_failed": {
          "name": "devices_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "logs": {
          "name": "logs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automation_runs_automation_id_automations_id_fk": {
          "name": "automation_runs_automation_id_automations_id_fk",
          "tableFrom": "automation_runs",
          "tableTo": "automations",
          "columnsFrom": [
            "automation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.automations": {
      "name": "automations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "trigger": {
          "name": "trigger",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "actions": {
          "name": "actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "on_failure": {
          "name": "on_failure",
          "type": "automation_on_failure",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'stop'"
        },
        "notification_targets": {
          "name": "notification_targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "run_count": {
          "name": "run_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automations_org_id_organizations_id_fk": {
          "name": "automations_org_id_organizations_id_fk",
          "tableFrom": "automations",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automations_created_by_users_id_fk": {
          "name": "automations_created_by_users_id_fk",
          "tableFrom": "automations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.saved_filters": {
      "name": "saved_filters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "saved_filters_org_id_organizations_id_fk": {
          "name": "saved_filters_org_id_organizations_id_fk",
          "tableFrom": "saved_filters",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "saved_filters_created_by_users_id_fk": {
          "name": "saved_filters_created_by_users_id_fk",
          "tableFrom": "saved_filters",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.custom_field_definitions": {
      "name": "custom_field_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "partner_id": {
          "name": "partner_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "field_key": {
          "name": "field_key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "custom_field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "required": {
          "name": "required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_value": {
          "name": "default_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "device_types": {
          "name": "device_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "custom_field_definitions_org_id_organizations_id_fk": {
          "name": "custom_field_definitions_org_id_organizations_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_partner_id_partners_id_fk": {
          "name": "custom_field_definitions_partner_id_partners_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "partners",
          "columnsFrom": [
            "partner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_versions": {
      "name": "agent_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "platform": {
          "name": "platform",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "architecture": {
          "name": "architecture",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "download_url": {
          "name": "download_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "release_notes": {
          "name": "release_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_latest": {
          "name": "is_latest",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_versions_is_latest_idx": {
          "name": "agent_versions_is_latest_idx",
          "columns": [
            {
              "expression": "is_latest",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_versions_version_platform_arch_unique": {
          "name": "agent_versions_version_platform_arch_unique",
          "nullsNotDistinct": false,
          "columns": [
            "version",
            "platform",
            "architecture"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_event_logs": {
      "name": "device_event_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "event_log_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "event_log_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "device_event_logs_device_idx": {
          "name": "device_event_logs_device_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_event_logs_org_ts_idx": {
          "name": "device_event_logs_org_ts_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_event_logs_cat_level_idx": {
          "name": "device_event_logs_cat_level_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_event_logs_dedup_idx": {
          "name": "device_event_logs_dedup_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_event_logs_device_id_devices_id_fk": {
          "name": "device_event_logs_device_id_devices_id_fk",
          "tableFrom": "device_event_logs",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_event_logs_org_id_organizations_id_fk": {
          "name": "device_event_logs_org_id_organizations_id_fk",
          "tableFrom": "device_event_logs",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_budgets": {
      "name": "ai_budgets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "monthly_budget_cents": {
          "name": "monthly_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "daily_budget_cents": {
          "name": "daily_budget_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_turns_per_session": {
          "name": "max_turns_per_session",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "allowed_models": {
          "name": "allowed_models",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"claude-sonnet-4-5-20250929\"]'::jsonb"
        },
        "messages_per_minute_per_user": {
          "name": "messages_per_minute_per_user",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 20
        },
        "messages_per_hour_per_org": {
          "name": "messages_per_hour_per_org",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 200
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ai_budgets_org_id_organizations_id_fk": {
          "name": "ai_budgets_org_id_organizations_id_fk",
          "tableFrom": "ai_budgets",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ai_budgets_org_id_unique": {
          "name": "ai_budgets_org_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "org_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_cost_usage": {
      "name": "ai_cost_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "period": {
          "name": "period",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "period_key": {
          "name": "period_key",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "session_count": {
          "name": "session_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tool_execution_count": {
          "name": "tool_execution_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_cost_usage_org_period_idx": {
          "name": "ai_cost_usage_org_period_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "period_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_cost_usage_org_id_organizations_id_fk": {
          "name": "ai_cost_usage_org_id_organizations_id_fk",
          "tableFrom": "ai_cost_usage",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_messages": {
      "name": "ai_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "ai_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_blocks": {
          "name": "content_blocks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tool_input": {
          "name": "tool_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_output": {
          "name": "tool_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tool_use_id": {
          "name": "tool_use_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_messages_session_id_idx": {
          "name": "ai_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_messages_role_idx": {
          "name": "ai_messages_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_messages_session_id_ai_sessions_id_fk": {
          "name": "ai_messages_session_id_ai_sessions_id_fk",
          "tableFrom": "ai_messages",
          "tableTo": "ai_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_sessions": {
      "name": "ai_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ai_session_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "default": "'claude-sonnet-4-5-20250929'"
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context_snapshot": {
          "name": "context_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_input_tokens": {
          "name": "total_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_output_tokens": {
          "name": "total_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_cost_cents": {
          "name": "total_cost_cents",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "turn_count": {
          "name": "turn_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_turns": {
          "name": "max_turns",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "sdk_session_id": {
          "name": "sdk_session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "ai_sessions_org_id_idx": {
          "name": "ai_sessions_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_sessions_user_id_idx": {
          "name": "ai_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_sessions_status_idx": {
          "name": "ai_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_sessions_org_id_organizations_id_fk": {
          "name": "ai_sessions_org_id_organizations_id_fk",
          "tableFrom": "ai_sessions",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_sessions_user_id_users_id_fk": {
          "name": "ai_sessions_user_id_users_id_fk",
          "tableFrom": "ai_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ai_tool_executions": {
      "name": "ai_tool_executions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "tool_input": {
          "name": "tool_input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "tool_output": {
          "name": "tool_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "ai_tool_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "command_id": {
          "name": "command_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ai_tool_executions_session_id_idx": {
          "name": "ai_tool_executions_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ai_tool_executions_status_idx": {
          "name": "ai_tool_executions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ai_tool_executions_session_id_ai_sessions_id_fk": {
          "name": "ai_tool_executions_session_id_ai_sessions_id_fk",
          "tableFrom": "ai_tool_executions",
          "tableTo": "ai_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_tool_executions_message_id_ai_messages_id_fk": {
          "name": "ai_tool_executions_message_id_ai_messages_id_fk",
          "tableFrom": "ai_tool_executions",
          "tableTo": "ai_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ai_tool_executions_approved_by_users_id_fk": {
          "name": "ai_tool_executions_approved_by_users_id_fk",
          "tableFrom": "ai_tool_executions",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.network_monitor_alert_rules": {
      "name": "network_monitor_alert_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "monitor_id": {
          "name": "monitor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "condition": {
          "name": "condition",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "alert_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "network_monitor_alert_rules_monitor_id_network_monitors_id_fk": {
          "name": "network_monitor_alert_rules_monitor_id_network_monitors_id_fk",
          "tableFrom": "network_monitor_alert_rules",
          "tableTo": "network_monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.network_monitor_results": {
      "name": "network_monitor_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "monitor_id": {
          "name": "monitor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "monitor_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "response_ms": {
          "name": "response_ms",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "status_code": {
          "name": "status_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "network_monitor_results_monitor_id_idx": {
          "name": "network_monitor_results_monitor_id_idx",
          "columns": [
            {
              "expression": "monitor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "network_monitor_results_timestamp_idx": {
          "name": "network_monitor_results_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "network_monitor_results_monitor_id_network_monitors_id_fk": {
          "name": "network_monitor_results_monitor_id_network_monitors_id_fk",
          "tableFrom": "network_monitor_results",
          "tableTo": "network_monitors",
          "columnsFrom": [
            "monitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.network_monitors": {
      "name": "network_monitors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "monitor_type": {
          "name": "monitor_type",
          "type": "monitor_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target": {
          "name": "target",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "polling_interval": {
          "name": "polling_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "timeout": {
          "name": "timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_checked": {
          "name": "last_checked",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_status": {
          "name": "last_status",
          "type": "monitor_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "last_response_ms": {
          "name": "last_response_ms",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "network_monitors_org_id_idx": {
          "name": "network_monitors_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "network_monitors_monitor_type_idx": {
          "name": "network_monitors_monitor_type_idx",
          "columns": [
            {
              "expression": "monitor_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "network_monitors_is_active_idx": {
          "name": "network_monitors_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "network_monitors_org_id_organizations_id_fk": {
          "name": "network_monitors_org_id_organizations_id_fk",
          "tableFrom": "network_monitors",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "network_monitors_asset_id_discovered_assets_id_fk": {
          "name": "network_monitors_asset_id_discovered_assets_id_fk",
          "tableFrom": "network_monitors",
          "tableTo": "discovered_assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_filesystem_cleanup_runs": {
      "name": "device_filesystem_cleanup_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by": {
          "name": "requested_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "plan": {
          "name": "plan",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "executed_actions": {
          "name": "executed_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "bytes_reclaimed": {
          "name": "bytes_reclaimed",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "filesystem_cleanup_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'previewed'"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_device_filesystem_cleanup_runs_device_requested": {
          "name": "idx_device_filesystem_cleanup_runs_device_requested",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "requested_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_filesystem_cleanup_runs_device_id_devices_id_fk": {
          "name": "device_filesystem_cleanup_runs_device_id_devices_id_fk",
          "tableFrom": "device_filesystem_cleanup_runs",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_filesystem_cleanup_runs_requested_by_users_id_fk": {
          "name": "device_filesystem_cleanup_runs_requested_by_users_id_fk",
          "tableFrom": "device_filesystem_cleanup_runs",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_filesystem_scan_state": {
      "name": "device_filesystem_scan_state",
      "schema": "",
      "columns": {
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "last_run_mode": {
          "name": "last_run_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'baseline'"
        },
        "last_baseline_completed_at": {
          "name": "last_baseline_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_disk_used_percent": {
          "name": "last_disk_used_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "checkpoint": {
          "name": "checkpoint",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "aggregate": {
          "name": "aggregate",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "hot_directories": {
          "name": "hot_directories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "device_filesystem_scan_state_device_id_devices_id_fk": {
          "name": "device_filesystem_scan_state_device_id_devices_id_fk",
          "tableFrom": "device_filesystem_scan_state",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_filesystem_snapshots": {
      "name": "device_filesystem_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "trigger": {
          "name": "trigger",
          "type": "filesystem_snapshot_trigger",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'on_demand'"
        },
        "partial": {
          "name": "partial",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "largest_files": {
          "name": "largest_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "largest_dirs": {
          "name": "largest_dirs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "temp_accumulation": {
          "name": "temp_accumulation",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "old_downloads": {
          "name": "old_downloads",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "unrotated_logs": {
          "name": "unrotated_logs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "trash_usage": {
          "name": "trash_usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "duplicate_candidates": {
          "name": "duplicate_candidates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "cleanup_candidates": {
          "name": "cleanup_candidates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "errors": {
          "name": "errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "raw_payload": {
          "name": "raw_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_device_filesystem_snapshots_device_captured": {
          "name": "idx_device_filesystem_snapshots_device_captured",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "captured_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_filesystem_snapshots_device_id_devices_id_fk": {
          "name": "device_filesystem_snapshots_device_id_devices_id_fk",
          "tableFrom": "device_filesystem_snapshots",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.device_sessions": {
      "name": "device_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "device_id": {
          "name": "device_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "session_type": {
          "name": "session_type",
          "type": "device_session_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'console'"
        },
        "os_session_id": {
          "name": "os_session_id",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "login_at": {
          "name": "login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "logout_at": {
          "name": "logout_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "idle_minutes": {
          "name": "idle_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "activity_state": {
          "name": "activity_state",
          "type": "device_session_activity_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "login_performance_seconds": {
          "name": "login_performance_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "device_sessions_org_active_idx": {
          "name": "device_sessions_org_active_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_sessions_device_active_idx": {
          "name": "device_sessions_device_active_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_sessions_device_login_idx": {
          "name": "device_sessions_device_login_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "login_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "device_sessions_device_user_idx": {
          "name": "device_sessions_device_user_idx",
          "columns": [
            {
              "expression": "device_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "username",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "device_sessions_org_id_organizations_id_fk": {
          "name": "device_sessions_org_id_organizations_id_fk",
          "tableFrom": "device_sessions",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "device_sessions_device_id_devices_id_fk": {
          "name": "device_sessions_device_id_devices_id_fk",
          "tableFrom": "device_sessions",
          "tableTo": "devices",
          "columnsFrom": [
            "device_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.org_status": {
      "name": "org_status",
      "schema": "public",
      "values": [
        "active",
        "suspended",
        "trial",
        "churned"
      ]
    },
    "public.org_type": {
      "name": "org_type",
      "schema": "public",
      "values": [
        "customer",
        "internal"
      ]
    },
    "public.partner_type": {
      "name": "partner_type",
      "schema": "public",
      "values": [
        "msp",
        "enterprise",
        "internal"
      ]
    },
    "public.plan_type": {
      "name": "plan_type",
      "schema": "public",
      "values": [
        "free",
        "pro",
        "enterprise",
        "unlimited"
      ]
    },
    "public.mfa_method": {
      "name": "mfa_method",
      "schema": "public",
      "values": [
        "totp",
        "sms"
      ]
    },
    "public.org_access": {
      "name": "org_access",
      "schema": "public",
      "values": [
        "all",
        "selected",
        "none"
      ]
    },
    "public.role_scope": {
      "name": "role_scope",
      "schema": "public",
      "values": [
        "system",
        "partner",
        "organization"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "active",
        "invited",
        "disabled"
      ]
    },
    "public.connection_protocol": {
      "name": "connection_protocol",
      "schema": "public",
      "values": [
        "tcp",
        "tcp6",
        "udp",
        "udp6"
      ]
    },
    "public.device_group_type": {
      "name": "device_group_type",
      "schema": "public",
      "values": [
        "static",
        "dynamic"
      ]
    },
    "public.device_status": {
      "name": "device_status",
      "schema": "public",
      "values": [
        "online",
        "offline",
        "maintenance",
        "decommissioned",
        "quarantined"
      ]
    },
    "public.group_membership_log_action": {
      "name": "group_membership_log_action",
      "schema": "public",
      "values": [
        "added",
        "removed"
      ]
    },
    "public.group_membership_log_reason": {
      "name": "group_membership_log_reason",
      "schema": "public",
      "values": [
        "manual",
        "filter_match",
        "filter_unmatch",
        "pinned",
        "unpinned"
      ]
    },
    "public.membership_source": {
      "name": "membership_source",
      "schema": "public",
      "values": [
        "manual",
        "dynamic_rule",
        "policy"
      ]
    },
    "public.os_type": {
      "name": "os_type",
      "schema": "public",
      "values": [
        "windows",
        "macos",
        "linux"
      ]
    },
    "public.execution_status": {
      "name": "execution_status",
      "schema": "public",
      "values": [
        "pending",
        "queued",
        "running",
        "completed",
        "failed",
        "timeout",
        "cancelled"
      ]
    },
    "public.script_language": {
      "name": "script_language",
      "schema": "public",
      "values": [
        "powershell",
        "bash",
        "python",
        "cmd"
      ]
    },
    "public.script_run_as": {
      "name": "script_run_as",
      "schema": "public",
      "values": [
        "system",
        "user",
        "elevated"
      ]
    },
    "public.trigger_type": {
      "name": "trigger_type",
      "schema": "public",
      "values": [
        "manual",
        "scheduled",
        "alert",
        "policy"
      ]
    },
    "public.alert_severity": {
      "name": "alert_severity",
      "schema": "public",
      "values": [
        "critical",
        "high",
        "medium",
        "low",
        "info"
      ]
    },
    "public.alert_status": {
      "name": "alert_status",
      "schema": "public",
      "values": [
        "active",
        "acknowledged",
        "resolved",
        "suppressed"
      ]
    },
    "public.notification_channel_type": {
      "name": "notification_channel_type",
      "schema": "public",
      "values": [
        "email",
        "slack",
        "teams",
        "webhook",
        "pagerduty",
        "sms"
      ]
    },
    "public.file_transfer_direction": {
      "name": "file_transfer_direction",
      "schema": "public",
      "values": [
        "upload",
        "download"
      ]
    },
    "public.file_transfer_status": {
      "name": "file_transfer_status",
      "schema": "public",
      "values": [
        "pending",
        "transferring",
        "completed",
        "failed"
      ]
    },
    "public.remote_session_status": {
      "name": "remote_session_status",
      "schema": "public",
      "values": [
        "pending",
        "connecting",
        "active",
        "disconnected",
        "failed"
      ]
    },
    "public.remote_session_type": {
      "name": "remote_session_type",
      "schema": "public",
      "values": [
        "terminal",
        "desktop",
        "file_transfer"
      ]
    },
    "public.actor_type": {
      "name": "actor_type",
      "schema": "public",
      "values": [
        "user",
        "api_key",
        "agent",
        "system"
      ]
    },
    "public.audit_result": {
      "name": "audit_result",
      "schema": "public",
      "values": [
        "success",
        "failure",
        "denied"
      ]
    },
    "public.report_format": {
      "name": "report_format",
      "schema": "public",
      "values": [
        "csv",
        "pdf",
        "excel"
      ]
    },
    "public.report_run_status": {
      "name": "report_run_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed"
      ]
    },
    "public.report_schedule": {
      "name": "report_schedule",
      "schema": "public",
      "values": [
        "one_time",
        "daily",
        "weekly",
        "monthly"
      ]
    },
    "public.report_type": {
      "name": "report_type",
      "schema": "public",
      "values": [
        "device_inventory",
        "software_inventory",
        "alert_summary",
        "compliance",
        "performance",
        "executive_summary"
      ]
    },
    "public.api_key_status": {
      "name": "api_key_status",
      "schema": "public",
      "values": [
        "active",
        "revoked",
        "expired"
      ]
    },
    "public.sso_provider_status": {
      "name": "sso_provider_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "testing"
      ]
    },
    "public.sso_provider_type": {
      "name": "sso_provider_type",
      "schema": "public",
      "values": [
        "oidc",
        "saml"
      ]
    },
    "public.access_review_decision": {
      "name": "access_review_decision",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "revoked"
      ]
    },
    "public.access_review_status": {
      "name": "access_review_status",
      "schema": "public",
      "values": [
        "pending",
        "in_progress",
        "completed"
      ]
    },
    "public.device_patch_status": {
      "name": "device_patch_status",
      "schema": "public",
      "values": [
        "pending",
        "installed",
        "failed",
        "skipped",
        "missing"
      ]
    },
    "public.patch_approval_status": {
      "name": "patch_approval_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "deferred"
      ]
    },
    "public.patch_compliance_report_format": {
      "name": "patch_compliance_report_format",
      "schema": "public",
      "values": [
        "csv",
        "pdf"
      ]
    },
    "public.patch_compliance_report_status": {
      "name": "patch_compliance_report_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed"
      ]
    },
    "public.patch_job_result_status": {
      "name": "patch_job_result_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "skipped"
      ]
    },
    "public.patch_job_status": {
      "name": "patch_job_status",
      "schema": "public",
      "values": [
        "scheduled",
        "running",
        "completed",
        "failed",
        "cancelled"
      ]
    },
    "public.patch_rollback_status": {
      "name": "patch_rollback_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "cancelled"
      ]
    },
    "public.patch_severity": {
      "name": "patch_severity",
      "schema": "public",
      "values": [
        "critical",
        "important",
        "moderate",
        "low",
        "unknown"
      ]
    },
    "public.patch_source": {
      "name": "patch_source",
      "schema": "public",
      "values": [
        "microsoft",
        "apple",
        "linux",
        "third_party",
        "custom"
      ]
    },
    "public.event_bus_priority": {
      "name": "event_bus_priority",
      "schema": "public",
      "values": [
        "low",
        "normal",
        "high",
        "critical"
      ]
    },
    "public.plugin_status": {
      "name": "plugin_status",
      "schema": "public",
      "values": [
        "active",
        "disabled",
        "error",
        "installing"
      ]
    },
    "public.psa_provider": {
      "name": "psa_provider",
      "schema": "public",
      "values": [
        "connectwise",
        "autotask",
        "halo",
        "syncro",
        "kaseya",
        "jira",
        "servicenow",
        "freshservice",
        "zendesk",
        "other"
      ]
    },
    "public.webhook_delivery_status": {
      "name": "webhook_delivery_status",
      "schema": "public",
      "values": [
        "pending",
        "delivered",
        "failed",
        "retrying"
      ]
    },
    "public.webhook_status": {
      "name": "webhook_status",
      "schema": "public",
      "values": [
        "active",
        "disabled",
        "error"
      ]
    },
    "public.ticket_priority": {
      "name": "ticket_priority",
      "schema": "public",
      "values": [
        "low",
        "normal",
        "high",
        "urgent"
      ]
    },
    "public.ticket_status": {
      "name": "ticket_status",
      "schema": "public",
      "values": [
        "new",
        "open",
        "pending",
        "on_hold",
        "resolved",
        "closed"
      ]
    },
    "public.plugin_install_status": {
      "name": "plugin_install_status",
      "schema": "public",
      "values": [
        "available",
        "installing",
        "installed",
        "updating",
        "uninstalling",
        "error"
      ]
    },
    "public.plugin_type": {
      "name": "plugin_type",
      "schema": "public",
      "values": [
        "integration",
        "automation",
        "reporting",
        "collector",
        "notification",
        "ui"
      ]
    },
    "public.discovered_asset_status": {
      "name": "discovered_asset_status",
      "schema": "public",
      "values": [
        "new",
        "identified",
        "managed",
        "ignored",
        "offline"
      ]
    },
    "public.discovered_asset_type": {
      "name": "discovered_asset_type",
      "schema": "public",
      "values": [
        "workstation",
        "server",
        "printer",
        "router",
        "switch",
        "firewall",
        "access_point",
        "phone",
        "iot",
        "camera",
        "nas",
        "unknown"
      ]
    },
    "public.discovery_job_status": {
      "name": "discovery_job_status",
      "schema": "public",
      "values": [
        "scheduled",
        "running",
        "completed",
        "failed",
        "cancelled"
      ]
    },
    "public.discovery_method": {
      "name": "discovery_method",
      "schema": "public",
      "values": [
        "arp",
        "ping",
        "port_scan",
        "snmp",
        "wmi",
        "ssh",
        "mdns",
        "netbios"
      ]
    },
    "public.device_platform": {
      "name": "device_platform",
      "schema": "public",
      "values": [
        "ios",
        "android"
      ]
    },
    "public.maintenance_recurrence": {
      "name": "maintenance_recurrence",
      "schema": "public",
      "values": [
        "once",
        "daily",
        "weekly",
        "monthly",
        "custom"
      ]
    },
    "public.maintenance_window_status": {
      "name": "maintenance_window_status",
      "schema": "public",
      "values": [
        "scheduled",
        "active",
        "completed",
        "cancelled"
      ]
    },
    "public.security_provider": {
      "name": "security_provider",
      "schema": "public",
      "values": [
        "windows_defender",
        "bitdefender",
        "sophos",
        "sentinelone",
        "crowdstrike",
        "malwarebytes",
        "eset",
        "kaspersky",
        "other"
      ]
    },
    "public.security_risk_level": {
      "name": "security_risk_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.threat_severity": {
      "name": "threat_severity",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.threat_status": {
      "name": "threat_status",
      "schema": "public",
      "values": [
        "detected",
        "quarantined",
        "removed",
        "allowed",
        "failed"
      ]
    },
    "public.deployment_device_status": {
      "name": "deployment_device_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "skipped"
      ]
    },
    "public.deployment_status": {
      "name": "deployment_status",
      "schema": "public",
      "values": [
        "draft",
        "pending",
        "running",
        "paused",
        "downloading",
        "installing",
        "completed",
        "failed",
        "cancelled",
        "rollback"
      ]
    },
    "public.backup_job_type": {
      "name": "backup_job_type",
      "schema": "public",
      "values": [
        "scheduled",
        "manual",
        "incremental"
      ]
    },
    "public.backup_provider": {
      "name": "backup_provider",
      "schema": "public",
      "values": [
        "local",
        "s3",
        "azure_blob",
        "google_cloud",
        "backblaze"
      ]
    },
    "public.backup_status": {
      "name": "backup_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "cancelled",
        "partial"
      ]
    },
    "public.backup_type": {
      "name": "backup_type",
      "schema": "public",
      "values": [
        "file",
        "system_image",
        "database",
        "application"
      ]
    },
    "public.restore_type": {
      "name": "restore_type",
      "schema": "public",
      "values": [
        "full",
        "selective",
        "bare_metal"
      ]
    },
    "public.notification_priority": {
      "name": "notification_priority",
      "schema": "public",
      "values": [
        "low",
        "normal",
        "high",
        "urgent"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "alert",
        "device",
        "script",
        "automation",
        "system",
        "user",
        "security"
      ]
    },
    "public.policy_status": {
      "name": "policy_status",
      "schema": "public",
      "values": [
        "draft",
        "active",
        "inactive",
        "archived"
      ]
    },
    "public.policy_type": {
      "name": "policy_type",
      "schema": "public",
      "values": [
        "monitoring",
        "patching",
        "security",
        "backup",
        "maintenance",
        "software",
        "alert",
        "custom"
      ]
    },
    "public.automation_on_failure": {
      "name": "automation_on_failure",
      "schema": "public",
      "values": [
        "stop",
        "continue",
        "notify"
      ]
    },
    "public.automation_run_status": {
      "name": "automation_run_status",
      "schema": "public",
      "values": [
        "running",
        "completed",
        "failed",
        "partial"
      ]
    },
    "public.automation_trigger_type": {
      "name": "automation_trigger_type",
      "schema": "public",
      "values": [
        "schedule",
        "event",
        "webhook",
        "manual"
      ]
    },
    "public.compliance_status": {
      "name": "compliance_status",
      "schema": "public",
      "values": [
        "compliant",
        "non_compliant",
        "pending",
        "error"
      ]
    },
    "public.policy_enforcement": {
      "name": "policy_enforcement",
      "schema": "public",
      "values": [
        "monitor",
        "warn",
        "enforce"
      ]
    },
    "public.custom_field_type": {
      "name": "custom_field_type",
      "schema": "public",
      "values": [
        "text",
        "number",
        "boolean",
        "dropdown",
        "date"
      ]
    },
    "public.event_log_category": {
      "name": "event_log_category",
      "schema": "public",
      "values": [
        "security",
        "hardware",
        "application",
        "system"
      ]
    },
    "public.event_log_level": {
      "name": "event_log_level",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error",
        "critical"
      ]
    },
    "public.ai_message_role": {
      "name": "ai_message_role",
      "schema": "public",
      "values": [
        "user",
        "assistant",
        "system",
        "tool_use",
        "tool_result"
      ]
    },
    "public.ai_session_status": {
      "name": "ai_session_status",
      "schema": "public",
      "values": [
        "active",
        "closed",
        "expired"
      ]
    },
    "public.ai_tool_status": {
      "name": "ai_tool_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "executing",
        "completed",
        "failed",
        "rejected"
      ]
    },
    "public.monitor_status": {
      "name": "monitor_status",
      "schema": "public",
      "values": [
        "online",
        "offline",
        "degraded",
        "unknown"
      ]
    },
    "public.monitor_type": {
      "name": "monitor_type",
      "schema": "public",
      "values": [
        "icmp_ping",
        "tcp_port",
        "http_check",
        "dns_check"
      ]
    },
    "public.filesystem_cleanup_run_status": {
      "name": "filesystem_cleanup_run_status",
      "schema": "public",
      "values": [
        "previewed",
        "executed",
        "failed"
      ]
    },
    "public.filesystem_snapshot_trigger": {
      "name": "filesystem_snapshot_trigger",
      "schema": "public",
      "values": [
        "on_demand",
        "threshold"
      ]
    },
    "public.device_session_activity_state": {
      "name": "device_session_activity_state",
      "schema": "public",
      "values": [
        "active",
        "idle",
        "locked",
        "away",
        "disconnected"
      ]
    },
    "public.device_session_type": {
      "name": "device_session_type",
      "schema": "public",
      "values": [
        "console",
        "rdp",
        "ssh",
        "other"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}